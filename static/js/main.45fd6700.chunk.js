(this["webpackJsonpappitsy-builder"]=this["webpackJsonpappitsy-builder"]||[]).push([[0],{103:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SchemaEditor}));var C_appitsy_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),C_appitsy_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),appitsy_components_Basic__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(19),lodash__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8),lodash__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__),react_json_view__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(104),react_json_view__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react_json_view__WEBPACK_IMPORTED_MODULE_5__),_emotion_styled__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7),_Utilities_ComponentTypes__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(24);function _templateObject2(){var e=Object(C_appitsy_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__.a)(["\n\tmargin-left: 10px;\n"]);return _templateObject2=function(){return e},e}function _templateObject(){var e=Object(C_appitsy_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__.a)(["\n  text-align: right;\n  margin-bottom: 10px;\n"]);return _templateObject=function(){return e},e}var SchemaActions=_emotion_styled__WEBPACK_IMPORTED_MODULE_6__.a.div(_templateObject()),SchemaActionButton=Object(_emotion_styled__WEBPACK_IMPORTED_MODULE_6__.a)(appitsy_components_Basic__WEBPACK_IMPORTED_MODULE_3__.a)(_templateObject2()),SchemaEditor=function SchemaEditor(props){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),_useState2=Object(C_appitsy_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState,2),isSchemaEditable=_useState2[0],setIsSchemaEditable=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(""),_useState4=Object(C_appitsy_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState3,2),editingSchema=_useState4[0],setEditingSchema=_useState4[1],schema=Object(_Utilities_ComponentTypes__WEBPACK_IMPORTED_MODULE_7__.g)(props.schema),copyToClipboard=function(e){return navigator.clipboard.writeText(e)},jsonFormattedString=function(){return JSON.stringify(schema,null,"  ")},startSchemaEditing=function(){setIsSchemaEditable(!0),setEditingSchema(jsonFormattedString())},endSchemaEditing=function endSchemaEditing(){setIsSchemaEditable(!1),setEditingSchema("");var jsonArray=eval("(".concat(editingSchema,")"));if(!lodash__WEBPACK_IMPORTED_MODULE_4___default.a.isArray(jsonArray))throw new Error("JSON Array expected here..");var saveSchema=jsonArray.map((function(e){return Object(_Utilities_ComponentTypes__WEBPACK_IMPORTED_MODULE_7__.f)(e)}));props.onSchemaChange(saveSchema)};return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(SchemaActions,null,isSchemaEditable?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(SchemaActionButton,{name:"saveSchema",display:{leftIcon:"save"},onClick:endSchemaEditing,text:"Save",style:"secondary"}):react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(SchemaActionButton,{name:"editSchema",display:{leftIcon:"pen"},onClick:startSchemaEditing,text:"Edit",style:"secondary"}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(SchemaActionButton,{name:"copyToClipboard",display:{leftIcon:"clipboard"},onClick:function(){return copyToClipboard(jsonFormattedString())},text:"Copy",style:"primary"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"card card-body bg-light"},isSchemaEditable?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("textarea",{rows:20,value:editingSchema,onChange:function(e){return setEditingSchema(e.target.value)}}," sd "):react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_json_view__WEBPACK_IMPORTED_MODULE_5___default.a,{src:schema})))}},111:function(e,t,a){e.exports=a(135)},116:function(e,t,a){},117:function(e,t,a){},135:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(44),l=a.n(i),r=(a(116),a(15)),p=a(9),c=(a(117),a(68)),s=a(22),d=a(7),m=a(140),u=a(28),b=a(139),_=a(105),f=a(24),y=a(2),v=a(141);function h(){var e=Object(p.a)(["\n  display: block;\n"]);return h=function(){return e},e}function x(){var e=Object(p.a)(["\n  margin: 0px 10px 5px 10px;\n  padding-bottom: 5px;\n  border-bottom: 2px solid lightgrey;\n"]);return x=function(){return e},e}function E(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 15px;\n"]);return E=function(){return e},e}function O(){var e=Object(p.a)(["\n  border-radius: 10px;\n  z-index: 2;\n  background-color: white;\n  box-shadow: 0 1px 3px 0 rgba(0,0,0,.1), 0 1px 2px 0 rgba(0,0,0,.06);\n  padding: 0.5rem 1rem;\n  float: left;\n  width: 90px;\n  height: 55px;\n  margin: 5px;\n  font-size: 14px;\n  text-align: center;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return O=function(){return e},e}function g(){var e=Object(p.a)(["\n  overflow: hidden;\n  clear: both;\n  height: 100%;\n"]);return g=function(){return e},e}var C,j=d.a.div(g()),D=Object(d.a)((function(e){var t={name:e.name,type:e.type,operation:e.operation},a=Object(v.a)({item:t,options:{dropEffect:"copy"},collect:function(e){return{opacity:e.isDragging()?.6:1}},end:function(t,a){e.resetPreview()}}),n=Object(r.a)(a,2),i=n[0].opacity,l=n[1];return o.a.createElement("div",{ref:l,className:e.className,style:{opacity:i}},e.children)}))(O()),w=d.a.div(E()),P=d.a.h6(x()),S=d.a.div(h()),T=function(e,t){return e.map((function(e){var a=Object(y.b)(e);return o.a.createElement(D,{name:a,type:e,operation:"drop",resetPreview:t},o.a.createElement("span",null,a))}))},A=function(e){return o.a.createElement(j,null,o.a.createElement(w,null,o.a.createElement(P,null,"Basic"),o.a.createElement(S,null,T(f.a,e.resetPreview))),o.a.createElement(w,null,o.a.createElement(P,null,"Layout"),o.a.createElement(S,null,T(f.d,e.resetPreview))),o.a.createElement(w,null,o.a.createElement(P,null,"Data"),o.a.createElement(S,null,T(f.c,e.resetPreview))))},M=a(5),k=a.n(M),L=a(8),R=a.n(L),I=a(16),B=(C={},Object(I.a)(C,y.a.TextField,[{type:"text",name:"name",display:{label:"Name"}},{type:"tabs",name:"textFieldEditing",components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label"}},{type:"text",name:"placeholder",display:{label:"Placeholder"}},{type:"text",name:"prefix",display:{label:"Prefix",placeholder:""}},{type:"text",name:"suffix",display:{label:"Suffix"}}]},{name:"data",display:{label:"Data"},components:[{type:"text",name:"path",display:{label:"Data Path"}},{type:"text",name:"defaultValue",display:{label:"Default Value"}}]},{components:[{type:"checkbox",name:"required",display:{label:"Required"}},{type:"text",name:"minLength",display:{label:"Min Length",placeholder:""}},{type:"text",name:"maxLength",display:{label:"Max Length"}}],name:"validations",display:{label:"Validations"}}],data:{path:"$"}}]),Object(I.a)(C,y.a.TextArea,[{type:"text",name:"name",display:{label:"Name"}},{type:"tabs",name:"textAreaEditing",display:{label:"Tabs "},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label"}},{type:"text",name:"placeholder",display:{label:"Placeholder"}}]},{name:"data",display:{label:"Data"},components:[{type:"text",name:"path",display:{label:"Data Path"}},{type:"text",name:"defaultValue",display:{label:"Default Value"}}]}],data:{path:"$"}}]),Object(I.a)(C,y.a.Email,[{type:"text",name:"name",display:{label:"Name"}}]),Object(I.a)(C,y.a.Number,[{type:"text",name:"name",display:{label:"Name",placeholder:"",prefix:"",suffix:""}},{type:"tabs",name:"tabs1",display:{label:""},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label",placeholder:"",prefix:"",suffix:""},data:{defaultValue:""},validations:{maxLength:""}}]},{components:[],name:"data",display:{label:"Data"}},{components:[],name:"validations",display:{label:"Validations"}}],data:{path:"$"}}]),Object(I.a)(C,y.a.Checkbox,[{type:"text",name:"name",display:{label:"Name",placeholder:"",prefix:"",suffix:""}},{type:"tabs",name:"tabs1",display:{label:"Tabs "},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label",placeholder:"",prefix:"",suffix:""},validations:{maxLength:"",checkbox1:!0}}]},{components:[{type:"text",name:"path",display:{label:"Path",placeholder:"",prefix:"",suffix:""},data:{defaultValue:""},validations:{maxLength:""}},{type:"checkbox",name:"defaultValue",display:{label:"Default Value"}}],name:"data",display:{label:"Data"}},{components:[{type:"checkbox",name:"required",display:{label:"Required"}}],name:"validations",display:{label:"Validations"}}],data:{path:"$"}}]),Object(I.a)(C,y.a.MultiCheckbox,[{type:"text",name:"name",display:{label:"Name",placeholder:"",prefix:"",suffix:""}},{type:"tabs",name:"tabs1",display:{label:"Tabs 1"},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"description",display:{label:"Description",placeholder:"",prefix:"",suffix:""}},{type:"checkbox",name:"hidden",display:{label:"Hidden"}},{type:"checkbox",name:"disabled",display:{label:"Disabled"}}]},{components:[{type:"table",name:"checkboxes",display:{label:"Table 1"},data:{columns:[{type:"text",name:"value",display:{label:"Value",placeholder:"",prefix:"",suffix:""}},{type:"text",name:"label",display:{label:"Label"}}]}}],name:"data",display:{label:"Data"}},{components:[{type:"number",name:"minSelected",display:{label:"Number 1"}},{type:"number",name:"maxSelected",display:{label:"Number 1"}}],name:"validations",display:{label:"Validations"}}],data:{path:"$"}}]),Object(I.a)(C,y.a.Password,[{type:"text",name:"name",display:{label:"Name"}},{type:"tabs",name:"textFieldEditing",display:{label:"Tabs "},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label"}},{type:"text",name:"placeholder",display:{label:"Placeholder",placeholder:"",prefix:"",suffix:""}},{type:"text",name:"prefix",display:{label:"Prefix",placeholder:""}},{type:"text",name:"suffix",display:{label:"Suffix"}}]},{name:"data",display:{label:"Data"},components:[{type:"text",name:"path",display:{label:"Data Path"}}]},{components:[{type:"checkbox",name:"checkbox1",display:{label:"Checkbox 1"}},{type:"text",name:"minLength",display:{label:"Min Length",placeholder:""}},{type:"text",name:"maxLength",display:{label:"Max Length"}}],name:"validations",display:{label:"Validations"}}],data:{path:"$"}}]),Object(I.a)(C,y.a.Select,[{type:"text",name:"name",display:{label:"Name",placeholder:"",prefix:"",suffix:""}},{type:"tabs",name:"tabs1",display:{label:"Tabs 1"},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"description",display:{label:"Description",placeholder:"",prefix:"",suffix:""}},{type:"checkbox",name:"hidden",display:{label:"Hidden"}},{type:"checkbox",name:"disabled",display:{label:"Disabled"}}]},{components:[{type:"table",name:"options",display:{label:"Table 1"},data:{columns:[{type:"text",name:"value",display:{label:"Value",placeholder:"",prefix:"",suffix:""}},{type:"text",name:"label",display:{label:"Label"}}]}}],name:"data",display:{label:"Data"}},{components:[{type:"number",name:"minSelected",display:{label:"Number 1"}},{type:"number",name:"maxSelected",display:{label:"Number 1"}}],name:"validations",display:{label:"Validations"}}],data:{path:"$"}}]),Object(I.a)(C,y.a.Radio,[{type:"text",name:"name",display:{label:"Name",placeholder:"",prefix:"",suffix:""}},{type:"tabs",name:"tabs1",display:{label:"Tabs 1"},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"description",display:{label:"Description",placeholder:"",prefix:"",suffix:""}},{type:"checkbox",name:"hidden",display:{label:"Hidden"}},{type:"checkbox",name:"disabled",display:{label:"Disabled"}}]},{components:[{type:"table",name:"options",display:{label:"Table 1"},data:{columns:[{type:"text",name:"value",display:{label:"Value",placeholder:"",prefix:"",suffix:""}},{type:"text",name:"label",display:{label:"Label"}}]}}],name:"data",display:{label:"Data"}},{components:[],name:"validations",display:{label:"Validations"}}],data:{path:"$"}}]),Object(I.a)(C,y.a.Button,[{type:"text",name:"name",display:{label:"Name",placeholder:"",prefix:"",suffix:""}},{type:"text",name:"text",display:{label:"Text"}},{type:"text",name:"style",display:{label:"Style",placeholder:"",prefix:"",suffix:""},data:{defaultValue:"",path:""},validations:{maxLength:""}},{type:"tabs",name:"buttonConfig",display:{label:"Button Configuration"},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"leftIcon",display:{label:"Left Icon"}},{type:"text",name:"rightIcon",display:{label:"Right Icon"}}]}],data:{path:"$"}}]),Object(I.a)(C,y.a.Panel,[{type:"text",name:"name",display:{label:"Name"}}]),Object(I.a)(C,y.a.Tabs,[{type:"text",name:"name",display:{label:"Name"}},{type:"tabs",name:"textFieldEditing",display:{label:"Tabs "},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label"}},{type:"table",name:"components",display:{label:"Tabs"},data:{path:"$.components",addNewDefault:'let tab = ({ "id": uuid(), components: [] }); tab.getComponents = function() { return this.components };  tab.setComponents = function(components) { this.components = components; }; tab;',columns:[{type:"text",name:"name",display:{label:"Tab name"}},{type:"object",name:"display",display:{label:"Tab label",hideLabel:!0},components:[{type:"text",name:"label",display:{hideLabel:!0}}]}]}}]},{components:[{type:"text",name:"path",display:{label:"Data Path",placeholder:"",prefix:"",suffix:""}}],name:"data",display:{label:"Data"}}],data:{path:"$"}}]),Object(I.a)(C,y.a.Table,[{type:"text",name:"name",display:{label:"Name"}},{type:"tabs",name:"tableConfig",display:{label:"Tabs 1"},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label",placeholder:"",prefix:"",suffix:""}}]},{components:[{type:"checkbox",name:"atleastOneRow",display:{label:"At Least 1 Row"}},{type:"checkbox",name:"allowSorting",display:{label:"Allow Sorting"}},{type:"checkbox",name:"allowAddRemove",display:{label:"Allow Add/Remove"}}],name:"data",display:{label:"Data"}}],data:{path:"$"}}]),Object(I.a)(C,y.a.ObjectComponent,[{type:"text",name:"name",display:{label:"Name",placeholder:"",prefix:"",suffix:""}},{type:"tabs",name:"objectComponentConfig",display:{label:""},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label",placeholder:"",prefix:"",suffix:""}}]}],data:{path:"$"}}]),C);function W(){var e=Object(p.a)(["\n  padding: 15px;\n"]);return W=function(){return e},e}var N=d.a.div(W()),U=o.a.memo((function(e){var t=e.component?B[e.component.type]:void 0;return o.a.createElement(N,{className:k()(e.className,"bg-light")},t?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,"Component Properties"),o.a.createElement(c.a,{schema:t,data:e.component,onDataChange:e.updateComponentSchema})):o.a.createElement("h6",null,"Select a component to continue edit it.."))}),(function(e,t){var a;return e.component===t.component&&(void 0===e.component||R.a.isEqual(e.component.getComponents(),null===(a=t.component)||void 0===a?void 0:a.getComponents()))})),K=a(106),V=a(10),q=a(99),$=a(100),F=a(50),J=a(108),z=a(107),H=a(64),G=a(29),Q=a(20),X=a(66),Y=a(81),Z=a(142);function ee(){var e=Object(p.a)(["\n    border-radius: 10px;\n    background-color: darkgrey;\n    opacity: 50%;\n    font-weight: 500;\n    padding: 5px 10px;\n    line-height: 0.5rem;\n    text-transform: capitalize;\n"]);return ee=function(){return e},e}var te=d.a.div(ee()),ae=function(e){return o.a.createElement(te,{className:"unselectable-text"},e.type)};function ne(){var e=Object(p.a)(["\n  display: flex; \n  flex-direction: row;\n\n  * {\n    margin: 0px 1px;\n  }\n\n  i {\n    font-size: 14px;\n  }\n"]);return ne=function(){return e},e}var oe=d.a.div(ne());function ie(){var e=Object(p.a)(["\n  width: 100%;\n  overflow-y: auto;\n  border: ",";\n"]);return ie=function(){return e},e}var le=d.a.div(ie(),(function(e){return e.border})),re=function(e){var t=Object(Z.a)({accept:f.b,hover:function(t,a){var n=t.id,o=t.type;!n&&a.isOver({shallow:!0})&&e.addPreview(o,e.id,!1)},drop:function(t,a){a.isOver()&&e.onDrop(Object(V.a)(Object(V.a)({},t),{},{parent:e.id}))},collect:function(e){return{isOver:e.isOver({shallow:!0}),canDrop:e.canDrop()}}}),a=Object(r.a)(t,2),n=a[0],i=n.canDrop,l=n.isOver,p=a[1],c=function(e,t){return e?"dashed 1px gray":"dashed 1px transparent"}(i&&l);return o.a.createElement(le,{border:c,ref:p,className:e.className},e.children,e.previewComponent?o.a.createElement(ae,{type:e.previewComponent.type}):null)};function pe(){var e=Object(p.a)(["\n    padding: 7px;\n    background-color: ",";\n"]);return pe=function(){return e},e}function ce(){var e=Object(p.a)(["\n  background-color: lightgrey;\n  padding: 10px;\n  margin: 0px;\n"]);return ce=function(){return e},e}function se(){var e=Object(p.a)(["\n    display: flex;\n    flex-direction: column;\n    padding: 7px;\n"]);return se=function(){return e},e}var de=d.a.div(se()),me=d.a.div(ce()),ue=Object(d.a)((function(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(null),i=function(e){var t=a.current.getBoundingClientRect(),n=(t.bottom-t.top)/2;return e.getClientOffset().y-t.top>n},l=Object(Z.a)({accept:f.b,hover:function(t,n){var o=t.id,l=t.type;a.current&&o!==e.id&&n.isOver({shallow:!0})&&(o?o!==e.id&&e.moveAdjacent(o,e.id,i(n)):e.addPreview(l,e.id,i(n)))},drop:function(t,a){a.isOver()&&e.onDrop(Object(V.a)(Object(V.a)({},t),{},{parent:e.id,isAfter:i(a)}))}}),p=Object(r.a)(l,2)[1],c=Object(v.a)({item:{type:e.type,id:e.id,operation:e.operation},collect:function(e){return{isDragging:e.isDragging()}},end:function(t,a){var n=a.getItem().id,o=a.didDrop();n!==e.id&&(o||e.moveComponent(n,e.id))}}),s=Object(r.a)(c,3),d=s[0].isDragging,m=s[1],u=s[2],b=d?.5:1;p(a),m(t);var _=o.a.createElement("div",{ref:t},o.a.createElement(Q.a,{icon:"arrows-alt"})),y=e.previewComponent?o.a.createElement(ae,{type:e.previewComponent.type}):null;return o.a.createElement("div",{ref:a,className:e.className,style:{opacity:b}},o.a.createElement("div",{ref:u}),e.previewComponent&&!e.previewComponent.isAfter?y:null,o.a.createElement(oe,null,e.editAction,_,e.deleteAction),e.children,e.previewComponent&&e.previewComponent.isAfter?y:null)}))(pe(),(function(e){return e.isEditing?"#ffffb3":""})),be=function(e){Object(J.a)(a,e);var t=Object(z.a)(a);function a(){var e,n,i,l,r;Object(q.a)(this,a);for(var p=arguments.length,c=new Array(p),s=0;s<p;s++)c[s]=arguments[s];return(r=t.call.apply(t,[this].concat(c))).renderDesignerComponent=function(t){var p,c="".concat(t.id);switch(t.type){case y.a.Panel:var s=t;s.display=Object(V.a)(Object(V.a)({},s.display),{},{expandable:!1}),p=Object(H.a)((e=Object(F.a)(r),Object(G.a)(a.prototype)),"renderComponent",e).call(e,s,c);break;case y.a.Tabs:var d=t;p=Object(H.a)((n=Object(F.a)(r),Object(G.a)(a.prototype)),"renderComponent",n).call(n,d,c);break;case y.a.Table:var m=R.a.cloneDeep(t);m.data.atleastOneRow=!0,m.data.allowAddRemove=!1,m.data.allowSorting=!1,p=Object(H.a)((i=Object(F.a)(r),Object(G.a)(a.prototype)),"renderComponent",i).call(i,m,c);break;default:p=Object(H.a)((l=Object(F.a)(r),Object(G.a)(a.prototype)),"renderComponent",l).call(l,t,c)}var u=o.a.createElement("div",{onClick:function(){return r.props.onEdit(t.id)}},o.a.createElement(Q.a,{icon:"pen"})),b=o.a.createElement("div",{onClick:function(){return r.props.onDelete(t.id)}},o.a.createElement(Q.a,{icon:"trash-alt"}));return o.a.createElement(ue,{id:t.id,key:t.id,type:t.type,operation:"move",onDrop:r.props.onDrop,previewComponent:t.getComponents()?void 0:t.previewComponent,addPreview:r.props.addPreview,moveComponent:r.props.moveComponent,moveAdjacent:r.props.moveAdjacent,isEditing:t.isEditing,editAction:u,deleteAction:b},p)},r}return Object($.a)(a,[{key:"renderChildren",value:function(){var e=this;return this.props.schema.map((function(t){return e.renderDesignerComponent(t)}))}},{key:"renderChildComponents",value:function(e,t,a){var n=this;if(void 0===t||void 0===a)return[];var i=o.a.createElement(me,null,"Drop fields here!"),l=(null===e||void 0===e?void 0:e.map((function(e){return n.renderDesignerComponent(e)})))||[];return a.type===y.a.Table?[].concat(Object(K.a)(l),[o.a.createElement(re,{id:a.id,onDrop:this.props.onDrop,previewComponent:a.previewComponent,addPreview:this.props.addPreview},o.a.createElement("div",{style:{minWidth:"100px"}},i))]):[o.a.createElement(re,{id:a.id,onDrop:this.props.onDrop,previewComponent:a.previewComponent,addPreview:this.props.addPreview},o.a.createElement("div",{style:{minWidth:"100px"}},0!==l.length?l:i))]}},{key:"addReactTooltip",value:function(e){return e.push(o.a.createElement("span",{"data-tip":"asd"})),e.push(o.a.createElement(Y.a,null)),e}},{key:"renderRoot",value:function(){return o.a.createElement(de,null,this.addReactTooltip(this.renderChildren()))}}]),a}(X.a);function _e(){var e=Object(p.a)(["\n  width: 70%;\n  margin: 10px;\n  overflow: \n"]);return _e=function(){return e},e}function fe(){var e=Object(p.a)(["\n  background-color: #f8f9fa;\n  flex: 1;\n"]);return fe=function(){return e},e}function ye(){var e=Object(p.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n"]);return ye=function(){return e},e}var ve=d.a.div(ye()),he=Object(d.a)(U)(fe()),xe=Object(d.a)(re)(_e()),Ee=function(e){return o.a.createElement(ve,null,o.a.createElement(xe,{id:"root",onDrop:e.onDrop,previewComponent:e.rootComponent.preview,addPreview:e.addPreview},o.a.createElement(be,{schema:e.rootComponent.components,data:e.data,onEdit:e.onEdit,onDelete:e.onDelete,onDrop:e.onDrop,addPreview:e.addPreview,moveComponent:e.moveComponent,moveAdjacent:e.moveAdjacent,onSubmit:function(e){}})),o.a.createElement(he,{component:e.editingComponent,updateComponentSchema:e.updateComponentSchema}))};function Oe(){var e=Object(p.a)(["\n  flex: 1;\n"]);return Oe=function(){return e},e}function ge(){var e=Object(p.a)(["\n  width: 300px;\n"]);return ge=function(){return e},e}function Ce(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n"]);return Ce=function(){return e},e}var je=d.a.div(Ce()),De=d.a.div(ge()),we=d.a.div(Oe()),Pe=function(e){var t=Object(n.useState)({}),a=Object(r.a)(t,1)[0],i=Object(n.useState)({components:e.schema}),l=Object(r.a)(i,2),p=l[0],c=l[1],s=Object(n.useState)(),d=Object(r.a)(s,2),y=d[0],v=d[1],h=Object(n.useState)(),x=Object(r.a)(h,2),E=x[0],O=x[1],g=function(t,a){if(c(t),e.onSchemaChange&&e.onSchemaChange(t.components),a)v(a);else if(y){var n=C(y.id,t.components).component;v(n)}},C=function e(t,a){var n=a.find((function(e){return e.id===t})),o=void 0;if(n)return{component:n,parent:void 0};a.some((function(a){var i=a.getComponents();if(!i)return!1;var l=e(t,i);return n=l.component,!(o=l.parent)&&n&&(o=a),!!n}));return{component:n,parent:o}},j=function(e,t){Object(m.a)(e,(function(e){return e.id===t}))},D=function(e,t,a){e.splice(t,0,a)},w=function(e,t,a){-1!==a?e.splice(a,0,t):e.push(t)},P=function(e,t,a,n){var o=a.findIndex((function(t){return t.id===e}));return n?o-1>=0&&a[o-1].id===t:o+1<a.length&&a[o+1].id===t};return o.a.createElement(je,null,o.a.createElement(b.a,{backend:_.a},o.a.createElement(De,{className:"bg-light"},o.a.createElement(A,{resetPreview:function(){if(E){var e=Object(u.a)(p);if("root"===E)e.preview=void 0;else{var t=C(E,e.components).component;t&&(t.previewComponent=void 0)}g(e),O(void 0)}}})),o.a.createElement(we,null,o.a.createElement(Ee,{rootComponent:p,data:a,editingComponent:y,onDrop:function(e){if("drop"===e.operation){var t=Object(f.e)(e.type);if(!t)return;var a=Object(u.a)(p);if(""===e.parent)w(a.components,t,-1);else{var n=C(e.parent,a.components),o=n.component,i=n.parent,l=null===o||void 0===o?void 0:o.getComponents();if(l)w(l,t,-1);else if(i){var r=i.getComponents(),c=r.findIndex((function(e){return e.id===(null===o||void 0===o?void 0:o.id)})),s=!0===e.isAfter;w(r,t,c+(s?1:0))}else{var d=a.components.findIndex((function(e){return e.id===(null===o||void 0===o?void 0:o.id)})),m=!0===e.isAfter;w(a.components,t,d+(m?1:0))}}g(a)}else if("move"===e.operation){var b=Object(u.a)(p),_=C(e.id,b.components),y=_.component,v=_.parent;if(!y)return;if(j((null===v||void 0===v?void 0:v.getComponents())||b.components,y.id),"root"===e.parent)w(b.components,y,-1);else{var h=C(e.parent,b.components),x=h.component,E=h.parent;if(!x)return;var O=x.getComponents();if(O)w(O,y,-1);else if(E){var D=E.getComponents(),P=D.findIndex((function(e){return e.id===x.id}));w(D,y,P)}else{var S=b.components.findIndex((function(e){return e.id===x.id}));w(b.components,y,S)}}g(b)}},onEdit:function(e){var t=Object(u.a)(p);if(void 0!==y){var a=C(y.id,t.components).component;a&&(a.isEditing=!1)}var n=C(e,t.components).component;void 0!==n&&(n.isEditing=!0,g(t,n))},onDelete:function(e){var t=Object(u.a)(p),a=C(e,t.components),n=a.component,o=a.parent;if(n){if(o){var i=o.getComponents();i&&j(i,n.id)}else j(t.components,n.id);g(t)}},addPreview:function(e,t,a){var n=Object(u.a)(p),o=void 0;if(E)if(E===t)if("root"===E){var i;if((null===(i=n.preview)||void 0===i?void 0:i.type)===e)return;n.preview=void 0,O(void 0)}else{var l=C(E,n.components).component;if(l){var r;if((null===(r=(o=l).previewComponent)||void 0===r?void 0:r.type)===e&&o.previewComponent.isAfter===a)return;o.previewComponent=void 0,O(void 0)}}else if("root"===E)n.preview=void 0,O(void 0);else{var c=C(E,n.components).component;c&&((o=c).previewComponent=void 0,O(void 0))}if("root"===t)n.preview={type:e,isAfter:!0},O("root");else{var s=C(t,n.components).component;if(!s)return void console.error("Preview component parent not found!");(o=s).previewComponent={type:e,isAfter:a},O(t)}g(n)},moveComponent:function(e,t){var a=Object(u.a)(p),n=C(e,a.components),o=n.component,i=n.parent;if(o){j(i?i.getComponents():a.components,e);var l=C(t,a.components).parent;if(l){var r=l.getComponents();D(l.getComponents(),r.length,o),g(a)}}},moveAdjacent:function(e,t,a){var n=Object(u.a)(p),o=C(e,n.components),i=o.component,l=o.parent;if(i){if(l){var r=l.getComponents();if(P(e,t,r,a))return;j(r,e)}else{if(P(e,t,n.components,a))return;j(n.components,e)}var c=C(t,n.components),s=c.component,d=c.parent;if(s){if(d){var m=d.getComponents();if(!m)return void alert("meh?");D(m,m.indexOf(s)+(a?1:0),i)}else D(n.components,n.components.indexOf(s)+(a?1:0),i);g(n)}}},updateComponentSchema:function(e){var t=Object(u.a)(p);if(void 0!==y){var a=C(y.id,t.components),n=a.component,o=a.parent;if(void 0!==n){e.id=n.id;var i=(null===o||void 0===o?void 0:o.getComponents())||t.components,l=i.findIndex((function(e){return e.id===n.id}));i.splice(l,1,Object(u.a)(e)),g(t)}}}}))))},Se=a(103);function Te(){var e=Object(p.a)(["\n  max-width: 900px;\n  margin: 15px auto;\n"]);return Te=function(){return e},e}function Ae(){var e=Object(p.a)(["\n\tdisplay: flex;\n  flex-direction: column;\n\tflex-grow: 1;\n\n  .appitsy-builder-header-tabs {\n    margin: 10px auto;\n\n    .react-tabs__tab-list {\n      border-width: 0px;\n    }\n\n    .react-tabs__tab {\n      width: 150px;\n      border: 0px;\n      bottom: 0px;\n      border-radius: 20px;\n      margin: 0px 10px;\n      text-align: center;\n      background: WhiteSmoke;\n      box-shadow: none;\n    }\n\n    .react-tabs__tab--selected {\n      background: #e6e6e6;\n      box-shadow: 0 0 5px #686d75;\n    }\n  }\n"]);return Ae=function(){return e},e}function Me(){var e=Object(p.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n"]);return Me=function(){return e},e}var ke=d.a.div(Me()),Le=Object(d.a)(s.d)(Ae()),Re={flexGrow:1,borderTop:"2px solid #cfcfcf"},Ie=d.a.div(Te()),Be=function(){var e=Object(n.useState)({}),t=Object(r.a)(e,2),a=t[0],i=t[1],l=Object(n.useState)([]),p=Object(r.a)(l,2),d=p[0],m=p[1];return o.a.createElement(ke,null,o.a.createElement(Le,null,o.a.createElement(s.b,{className:"appitsy-builder-header-tabs"},o.a.createElement(s.a,null,"Designer"),o.a.createElement(s.a,null,"Schema JSON"),o.a.createElement(s.a,null,"Preview")),o.a.createElement(s.c,{style:Re},o.a.createElement(Pe,{schema:d,onSchemaChange:function(e){return m(e)}})),o.a.createElement(s.c,{style:Re},o.a.createElement(Ie,null,o.a.createElement(Se.a,{schema:d,onSchemaChange:m}))),o.a.createElement(s.c,{style:Re},o.a.createElement(Ie,{className:"card card-body bg-light"},o.a.createElement(c.a,{schema:d,data:a,onDataChange:i,onSubmit:function(e){return alert(JSON.stringify(e))}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},24:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return d})),a.d(t,"e",(function(){return u})),a.d(t,"f",(function(){return b})),a.d(t,"g",(function(){return _}));var n=a(10),o=a(2),i=a(8),l=a.n(i),r=a(93),p=[o.a.TextField,o.a.TextArea,o.a.Number,o.a.Email,o.a.Button,o.a.Password,o.a.Checkbox,o.a.MultiCheckbox,o.a.Select,o.a.Radio],c=[o.a.Panel,o.a.Tabs],s=[o.a.Table,o.a.ObjectComponent],d=[].concat(p,c,s),m=function(e){var t=Object(n.a)(Object(n.a)({},e),{},{id:Object(r.a)(),components:[]});return t.getComponents=function(){return this.components},t.setComponents=function(e){this.components=e},t},u=function(e){var t={id:Object(r.a)(),isEditing:!1,getComponents:function(){},setComponents:function(){},type:e,name:e,display:{label:Object(o.b)(e)}};switch(e){case o.a.TextField:case o.a.TextArea:case o.a.Email:case o.a.Number:case o.a.Checkbox:return Object(n.a)({},t);case o.a.Button:return l.a.defaultsDeep({text:"Submit",style:"primary"},t);case o.a.Password:return l.a.defaultsDeep({display:{placeholder:"********"}},t);case o.a.Radio:case o.a.Select:return Object(n.a)(Object(n.a)({},t),{},{data:{options:[{value:"",label:""}]}});case o.a.MultiCheckbox:return Object(n.a)(Object(n.a)({},t),{},{data:{checkboxes:[{value:"",label:""}]}});case o.a.Panel:var a=Object(n.a)(Object(n.a)({},t),{},{components:[]});return a.getComponents=function(){return this.components},a.setComponents=function(e){this.components=e},a;case o.a.Tabs:var i=m({name:"tab1",display:{label:"Tab1"}}),p=Object(n.a)(Object(n.a)({},t),{},{components:[i]});return p.getComponents=function(){return this.components},p.setComponents=function(e){this.components=e},p;case o.a.Table:var c=Object(n.a)(Object(n.a)({},t),{},{data:{columns:[],allowSorting:!0,allowAddRemove:!0}});return c.getComponents=function(){return this.data.columns},c.setComponents=function(e){this.data.columns=e},c;case o.a.ObjectComponent:var s=Object(n.a)(Object(n.a)({},t),{},{components:[]});return s.getComponents=function(){return this.components},s.setComponents=function(e){this.components=e},s;default:return}},b=function e(t){if(void 0===t.type)throw new Error("Wrong JSON being parsed");var a=u(t.type)||{},n=l.a.assign(a,t),i=n.getComponents();if(void 0!==i)switch(n.type){case o.a.Tabs:n.setComponents(i.map((function(t){var a,n=m(t),o=(null===(a=t.components)||void 0===a?void 0:a.map((function(t){return e(t)})))||[];return n.setComponents(o),n})));break;default:n.setComponents(i.map((function(t){return e(t)})))}return n},_=function e(t){var a=l.a.cloneDeep(t);return(a=a.map((function(t){return void 0!==t.getComponents()&&t.setComponents(e(t.getComponents())),t}))).map((function(e){return delete e.id,delete e.isEditing,delete e.previewComponent,delete e.getComponents,delete e.setComponents,e}))}}},[[111,1,2]]]);
//# sourceMappingURL=main.45fd6700.chunk.js.map