(this["webpackJsonpappitsy-builder"]=this["webpackJsonpappitsy-builder"]||[]).push([[0],{108:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SchemaEditor}));var C_appitsy_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),C_appitsy_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),appitsy_components_Basic__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(19),lodash__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),lodash__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__),react_json_view__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(109),react_json_view__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react_json_view__WEBPACK_IMPORTED_MODULE_5__),_emotion_styled__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7),_Utilities_ComponentTypes__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(24);function _templateObject2(){var e=Object(C_appitsy_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__.a)(["\n\tmargin-left: 10px;\n"]);return _templateObject2=function(){return e},e}function _templateObject(){var e=Object(C_appitsy_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__.a)(["\n  text-align: right;\n  margin-bottom: 10px;\n"]);return _templateObject=function(){return e},e}var SchemaActions=_emotion_styled__WEBPACK_IMPORTED_MODULE_6__.a.div(_templateObject()),SchemaActionButton=Object(_emotion_styled__WEBPACK_IMPORTED_MODULE_6__.a)(appitsy_components_Basic__WEBPACK_IMPORTED_MODULE_3__.a)(_templateObject2()),SchemaEditor=function SchemaEditor(props){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),_useState2=Object(C_appitsy_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState,2),isSchemaEditable=_useState2[0],setIsSchemaEditable=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(""),_useState4=Object(C_appitsy_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState3,2),editingSchema=_useState4[0],setEditingSchema=_useState4[1],schema=Object(_Utilities_ComponentTypes__WEBPACK_IMPORTED_MODULE_7__.g)(props.schema),copyToClipboard=function(e){return navigator.clipboard.writeText(e)},jsonFormattedString=function(){return JSON.stringify(schema,null,"  ")},startSchemaEditing=function(){setIsSchemaEditable(!0),setEditingSchema(jsonFormattedString())},endSchemaEditing=function endSchemaEditing(){setIsSchemaEditable(!1),setEditingSchema("");var jsonArray=eval("(".concat(editingSchema,")"));if(!lodash__WEBPACK_IMPORTED_MODULE_4___default.a.isArray(jsonArray))throw new Error("JSON Array expected here..");var saveSchema=jsonArray.map((function(e){return Object(_Utilities_ComponentTypes__WEBPACK_IMPORTED_MODULE_7__.f)(e)}));props.onSchemaChange(saveSchema)};return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(SchemaActions,null,isSchemaEditable?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(SchemaActionButton,{name:"saveSchema",display:{leftIcon:"save"},onClick:endSchemaEditing,text:"Save",style:"secondary"}):react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(SchemaActionButton,{name:"editSchema",display:{leftIcon:"pen"},onClick:startSchemaEditing,text:"Edit",style:"secondary"}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(SchemaActionButton,{name:"copyToClipboard",display:{leftIcon:"clipboard"},onClick:function(){return copyToClipboard(jsonFormattedString())},text:"Copy",style:"primary"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"card card-body bg-light"},isSchemaEditable?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("textarea",{rows:20,value:editingSchema,onChange:function(e){return setEditingSchema(e.target.value)}}," sd "):react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_json_view__WEBPACK_IMPORTED_MODULE_5___default.a,{src:schema})))}},116:function(e,t,a){e.exports=a(149)},121:function(e,t,a){},122:function(e,t,a){},149:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(39),i=a.n(l),r=(a(121),a(11)),c=a(8),p=(a(122),a(51)),s=a(22),d=a(7),m=a(10),u=a(154),b=a(26),_=a(153),f=a(110),y=a(102),v=a.n(y),h=a(24),x=a(2),O=a(155);function E(){var e=Object(c.a)(["\n  display: block;\n"]);return E=function(){return e},e}function g(){var e=Object(c.a)(["\n  margin: 0px 10px 5px 10px;\n  padding-bottom: 5px;\n  border-bottom: 2px solid lightgrey;\n"]);return g=function(){return e},e}function C(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 15px;\n"]);return C=function(){return e},e}function j(){var e=Object(c.a)(["\n  border-radius: 10px;\n  z-index: 2;\n  background-color: white;\n  box-shadow: 0 1px 3px 0 rgba(0,0,0,.1), 0 1px 2px 0 rgba(0,0,0,.06);\n  padding: 0.5rem 1rem;\n  float: left;\n  width: 90px;\n  height: 55px;\n  margin: 5px;\n  font-size: 14px;\n  text-align: center;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return j=function(){return e},e}function D(){var e=Object(c.a)(["\n  overflow: hidden;\n  clear: both;\n  height: 100%;\n"]);return D=function(){return e},e}var w,P=d.a.div(D()),S=Object(d.a)((function(e){var t={name:e.name,type:e.type,operation:e.operation},a=Object(O.a)({item:t,options:{dropEffect:"copy"},collect:function(e){return{opacity:e.isDragging()?.6:1}},end:function(t,a){e.resetPreview()}}),n=Object(r.a)(a,2),l=n[0].opacity,i=n[1];return o.a.createElement("div",{ref:i,className:e.className,style:{opacity:l}},e.children)}))(j()),T=d.a.div(C()),A=d.a.h6(g()),M=d.a.div(E()),k=function(e,t){return e.map((function(e){var a=Object(x.b)(e);return o.a.createElement(S,{name:a,type:e,operation:"drop",resetPreview:t},o.a.createElement("span",null,a))}))},L=function(e){return o.a.createElement(P,null,o.a.createElement(T,null,o.a.createElement(A,null,"Basic"),o.a.createElement(M,null,k(h.a,e.resetPreview))),o.a.createElement(T,null,o.a.createElement(A,null,"Layout"),o.a.createElement(M,null,k(h.d,e.resetPreview))),o.a.createElement(T,null,o.a.createElement(A,null,"Data"),o.a.createElement(M,null,k(h.c,e.resetPreview))))},I=a(6),R=a.n(I),B=a(9),N=a.n(B),W=a(16),U=(w={},Object(W.a)(w,x.a.TextField,[{type:"text",name:"name",display:{label:"Name"}},{type:"tabs",name:"textFieldEditing",components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label"}},{type:"text",name:"placeholder",display:{label:"Placeholder"}},{type:"text",name:"prefix",display:{label:"Prefix",placeholder:""}},{type:"text",name:"suffix",display:{label:"Suffix"}}]},{name:"data",display:{label:"Data"},components:[{type:"text",name:"path",display:{label:"Data Path"}},{type:"text",name:"defaultValue",display:{label:"Default Value"}}]},{components:[{type:"checkbox",name:"required",display:{label:"Required"}},{type:"text",name:"minLength",display:{label:"Min Length",placeholder:""}},{type:"text",name:"maxLength",display:{label:"Max Length"}}],name:"validations",display:{label:"Validations"}}],data:{path:"$"}}]),Object(W.a)(w,x.a.TextArea,[{type:"text",name:"name",display:{label:"Name"}},{type:"tabs",name:"textAreaEditing",display:{label:"Tabs "},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label"}},{type:"text",name:"placeholder",display:{label:"Placeholder"}}]},{name:"data",display:{label:"Data"},components:[{type:"text",name:"path",display:{label:"Data Path"}},{type:"text",name:"defaultValue",display:{label:"Default Value"}}]}],data:{path:"$"}}]),Object(W.a)(w,x.a.Email,[{type:"text",name:"name",display:{label:"Name"}}]),Object(W.a)(w,x.a.Number,[{type:"text",name:"name",display:{label:"Name",placeholder:"",prefix:"",suffix:""}},{type:"tabs",name:"tabs1",display:{label:""},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label",placeholder:"",prefix:"",suffix:""},data:{defaultValue:""},validations:{maxLength:""}}]},{components:[],name:"data",display:{label:"Data"}},{components:[],name:"validations",display:{label:"Validations"}}],data:{path:"$"}}]),Object(W.a)(w,x.a.Checkbox,[{type:"text",name:"name",display:{label:"Name",placeholder:"",prefix:"",suffix:""}},{type:"tabs",name:"tabs1",display:{label:"Tabs "},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label",placeholder:"",prefix:"",suffix:""},validations:{maxLength:"",checkbox1:!0}}]},{components:[{type:"text",name:"path",display:{label:"Path",placeholder:"",prefix:"",suffix:""},data:{defaultValue:""},validations:{maxLength:""}},{type:"checkbox",name:"defaultValue",display:{label:"Default Value"}}],name:"data",display:{label:"Data"}},{components:[{type:"checkbox",name:"required",display:{label:"Required"}}],name:"validations",display:{label:"Validations"}}],data:{path:"$"}}]),Object(W.a)(w,x.a.MultiCheckbox,[{type:"text",name:"name",display:{label:"Name",placeholder:"",prefix:"",suffix:""}},{type:"tabs",name:"tabs1",display:{label:"Tabs 1"},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"description",display:{label:"Description",placeholder:"",prefix:"",suffix:""}},{type:"checkbox",name:"hidden",display:{label:"Hidden"}},{type:"checkbox",name:"disabled",display:{label:"Disabled"}}]},{components:[{type:"table",name:"checkboxes",display:{label:"Table 1"},data:{columns:[{type:"text",name:"value",display:{label:"Value",placeholder:"",prefix:"",suffix:""}},{type:"text",name:"label",display:{label:"Label"}}]}}],name:"data",display:{label:"Data"}},{components:[{type:"number",name:"minSelected",display:{label:"Number 1"}},{type:"number",name:"maxSelected",display:{label:"Number 1"}}],name:"validations",display:{label:"Validations"}}],data:{path:"$"}}]),Object(W.a)(w,x.a.Password,[{type:"text",name:"name",display:{label:"Name"}},{type:"tabs",name:"textFieldEditing",display:{label:"Tabs "},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label"}},{type:"text",name:"placeholder",display:{label:"Placeholder",placeholder:"",prefix:"",suffix:""}},{type:"text",name:"prefix",display:{label:"Prefix",placeholder:""}},{type:"text",name:"suffix",display:{label:"Suffix"}}]},{name:"data",display:{label:"Data"},components:[{type:"text",name:"path",display:{label:"Data Path"}}]},{components:[{type:"checkbox",name:"checkbox1",display:{label:"Checkbox 1"}},{type:"text",name:"minLength",display:{label:"Min Length",placeholder:""}},{type:"text",name:"maxLength",display:{label:"Max Length"}}],name:"validations",display:{label:"Validations"}}],data:{path:"$"}}]),Object(W.a)(w,x.a.Select,[{type:"text",name:"name",display:{label:"Name",placeholder:"",prefix:"",suffix:""}},{type:"tabs",name:"tabs1",display:{label:"Tabs 1"},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"description",display:{label:"Description",placeholder:"",prefix:"",suffix:""}},{type:"checkbox",name:"hidden",display:{label:"Hidden"}},{type:"checkbox",name:"disabled",display:{label:"Disabled"}}]},{components:[{type:"table",name:"options",display:{label:"Table 1"},data:{columns:[{type:"text",name:"value",display:{label:"Value",placeholder:"",prefix:"",suffix:""}},{type:"text",name:"label",display:{label:"Label"}}]}}],name:"data",display:{label:"Data"}},{components:[{type:"number",name:"minSelected",display:{label:"Number 1"}},{type:"number",name:"maxSelected",display:{label:"Number 1"}}],name:"validations",display:{label:"Validations"}}],data:{path:"$"}}]),Object(W.a)(w,x.a.Radio,[{type:"text",name:"name",display:{label:"Name",placeholder:"",prefix:"",suffix:""}},{type:"tabs",name:"tabs1",display:{label:"Tabs 1"},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"description",display:{label:"Description",placeholder:"",prefix:"",suffix:""}},{type:"checkbox",name:"hidden",display:{label:"Hidden"}},{type:"checkbox",name:"disabled",display:{label:"Disabled"}}]},{components:[{type:"table",name:"options",display:{label:"Table 1"},data:{columns:[{type:"text",name:"value",display:{label:"Value",placeholder:"",prefix:"",suffix:""}},{type:"text",name:"label",display:{label:"Label"}}]}}],name:"data",display:{label:"Data"}},{components:[],name:"validations",display:{label:"Validations"}}],data:{path:"$"}}]),Object(W.a)(w,x.a.Button,[{type:"text",name:"name",display:{label:"Name",placeholder:"",prefix:"",suffix:""}},{type:"text",name:"text",display:{label:"Text"}},{type:"text",name:"style",display:{label:"Style",placeholder:"",prefix:"",suffix:""},data:{defaultValue:"",path:""},validations:{maxLength:""}},{type:"tabs",name:"buttonConfig",display:{label:"Button Configuration"},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"leftIcon",display:{label:"Left Icon"}},{type:"text",name:"rightIcon",display:{label:"Right Icon"}}]}],data:{path:"$"}}]),Object(W.a)(w,x.a.Panel,[{type:"text",name:"name",display:{label:"Name"}}]),Object(W.a)(w,x.a.Tabs,[{type:"text",name:"name",display:{label:"Name"}},{type:"tabs",name:"textFieldEditing",display:{label:"Tabs "},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label"}},{type:"table",name:"components",display:{label:"Tabs"},data:{path:"$.components",addNewDefault:'let tab = ({ "id": uuid(), components: [] }); tab.getComponents = function() { return this.components };  tab.setComponents = function(components) { this.components = components; }; tab;',columns:[{type:"text",name:"name",display:{label:"Tab name"}},{type:"object",name:"display",display:{label:"Tab label",hideLabel:!0},components:[{type:"text",name:"label",display:{hideLabel:!0}}]}]}}]},{components:[{type:"text",name:"path",display:{label:"Data Path",placeholder:"",prefix:"",suffix:""}}],name:"data",display:{label:"Data"}}],data:{path:"$"}}]),Object(W.a)(w,x.a.Table,[{type:"text",name:"name",display:{label:"Name"}},{type:"tabs",name:"tableConfig",display:{label:"Tabs 1"},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label",placeholder:"",prefix:"",suffix:""}}]},{components:[{type:"checkbox",name:"atleastOneRow",display:{label:"At Least 1 Row"}},{type:"checkbox",name:"allowSorting",display:{label:"Allow Sorting"}},{type:"checkbox",name:"allowAddRemove",display:{label:"Allow Add/Remove"}}],name:"data",display:{label:"Data"}}],data:{path:"$"}}]),Object(W.a)(w,x.a.ObjectComponent,[{type:"text",name:"name",display:{label:"Name",placeholder:"",prefix:"",suffix:""}},{type:"tabs",name:"objectComponentConfig",display:{label:""},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label",placeholder:"",prefix:"",suffix:""}}]}],data:{path:"$"}}]),w);function K(){var e=Object(c.a)(["\n  padding: 15px;\n"]);return K=function(){return e},e}var q=d.a.div(K()),V=o.a.memo((function(e){var t=e.component?U[e.component.type]:void 0;return o.a.createElement(q,{className:R()(e.className,"bg-light")},t?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,"Component Properties"),o.a.createElement(p.a,{schema:t,data:e.component,onDataChange:e.updateComponentSchema})):o.a.createElement("h6",null,"Select a component to continue edit it.."))}),(function(e,t){var a;return e.component===t.component&&(void 0===e.component||N.a.isEqual(e.component.getComponents(),null===(a=t.component)||void 0===a?void 0:a.getComponents()))})),$=a(111),F=a(104),J=a(105),z=a(50),H=a(113),G=a(112),Q=a(65),X=a(29),Y=a(20),Z=a(67),ee=a(81),te=a(156);function ae(){var e=Object(c.a)(["\n    border-radius: 10px;\n    background-color: darkgrey;\n    opacity: 50%;\n    font-weight: 500;\n    padding: 5px 10px;\n    line-height: 0.5rem;\n    text-transform: capitalize;\n"]);return ae=function(){return e},e}var ne=d.a.div(ae()),oe=function(e){return o.a.createElement(ne,{className:"unselectable-text"},e.type)};function le(){var e=Object(c.a)(["\n  display: flex; \n  flex-direction: row;\n\n  * {\n    margin: 0px 1px;\n  }\n\n  i {\n    font-size: 14px;\n  }\n"]);return le=function(){return e},e}var ie=d.a.div(le());function re(){var e=Object(c.a)(["\n  width: 100%;\n  overflow-y: auto;\n  border: ",";\n"]);return re=function(){return e},e}var ce=d.a.div(re(),(function(e){return e.border})),pe=function(e){var t=Object(te.a)({accept:h.b,hover:function(t,a){var n=t.id,o=t.type;!n&&a.isOver({shallow:!0})&&e.addPreview(o,e.id,!1)},drop:function(t,a){a.isOver()&&e.onDrop(Object(m.a)(Object(m.a)({},t),{},{parent:e.id}))},collect:function(e){return{isOver:e.isOver({shallow:!0}),canDrop:e.canDrop()}}}),a=Object(r.a)(t,2),n=a[0],l=n.canDrop,i=n.isOver,c=a[1],p=function(e,t){return e?"dashed 1px gray":"dashed 1px transparent"}(l&&i);return o.a.createElement(ce,{border:p,ref:c,className:e.className},e.children,e.previewComponent?o.a.createElement(oe,{type:e.previewComponent.type}):null)};function se(){var e=Object(c.a)(["\n    padding: 7px;\n    background-color: ",";\n"]);return se=function(){return e},e}function de(){var e=Object(c.a)(["\n  background-color: lightgrey;\n  padding: 10px;\n  margin: 0px;\n"]);return de=function(){return e},e}function me(){var e=Object(c.a)(["\n    display: flex;\n    flex-direction: column;\n    padding: 7px;\n"]);return me=function(){return e},e}var ue=d.a.div(me()),be=d.a.div(de()),_e=Object(d.a)((function(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(null),l=function(e){var t=a.current.getBoundingClientRect(),n=(t.bottom-t.top)/2;return e.getClientOffset().y-t.top>n},i=Object(te.a)({accept:h.b,hover:function(t,n){var o=t.id,i=t.type;a.current&&o!==e.id&&n.isOver({shallow:!0})&&(o?o!==e.id&&e.moveAdjacent(o,e.id,l(n)):e.addPreview(i,e.id,l(n)))},drop:function(t,a){a.isOver()&&e.onDrop(Object(m.a)(Object(m.a)({},t),{},{parent:e.id,isAfter:l(a)}))}}),c=Object(r.a)(i,2)[1],p=Object(O.a)({item:{type:e.type,id:e.id,operation:e.operation},collect:function(e){return{isDragging:e.isDragging()}},end:function(t,a){var n=a.getItem().id,o=a.didDrop();n!==e.id&&(o||e.moveComponent(n,e.id))}}),s=Object(r.a)(p,3),d=s[0].isDragging,u=s[1],b=s[2],_=d?.5:1;c(a),u(t);var f=o.a.createElement("div",{ref:t},o.a.createElement(Y.a,{icon:"arrows-alt"})),y=e.previewComponent?o.a.createElement(oe,{type:e.previewComponent.type}):null;return o.a.createElement("div",{ref:a,className:e.className,style:{opacity:_}},o.a.createElement("div",{ref:b}),e.previewComponent&&!e.previewComponent.isAfter?y:null,o.a.createElement(ie,null,e.editAction,f,e.deleteAction),e.children,e.previewComponent&&e.previewComponent.isAfter?y:null)}))(se(),(function(e){return e.isEditing?"#ffffb3":""})),fe=function(e){Object(H.a)(a,e);var t=Object(G.a)(a);function a(){var e,n,l,i,r;Object(F.a)(this,a);for(var c=arguments.length,p=new Array(c),s=0;s<c;s++)p[s]=arguments[s];return(r=t.call.apply(t,[this].concat(p))).renderDesignerComponent=function(t){var c,p="".concat(t.id);switch(t.type){case x.a.Panel:var s=t;s.display=Object(m.a)(Object(m.a)({},s.display),{},{expandable:!1}),c=Object(Q.a)((e=Object(z.a)(r),Object(X.a)(a.prototype)),"renderComponent",e).call(e,s,p);break;case x.a.Tabs:var d=t;c=Object(Q.a)((n=Object(z.a)(r),Object(X.a)(a.prototype)),"renderComponent",n).call(n,d,p);break;case x.a.Table:var u=N.a.cloneDeep(t);u.data.atleastOneRow=!0,u.data.allowAddRemove=!1,u.data.allowSorting=!1,c=Object(Q.a)((l=Object(z.a)(r),Object(X.a)(a.prototype)),"renderComponent",l).call(l,u,p);break;default:c=Object(Q.a)((i=Object(z.a)(r),Object(X.a)(a.prototype)),"renderComponent",i).call(i,t,p)}var b=o.a.createElement("div",{onClick:function(){return r.props.onEdit(t.id)}},o.a.createElement(Y.a,{icon:"pen"})),_=o.a.createElement("div",{onClick:function(){return r.props.onDelete(t.id)}},o.a.createElement(Y.a,{icon:"trash-alt"}));return o.a.createElement(_e,{id:t.id,key:t.id,type:t.type,operation:"move",onDrop:r.props.onDrop,previewComponent:t.getComponents()?void 0:t.previewComponent,addPreview:r.props.addPreview,moveComponent:r.props.moveComponent,moveAdjacent:r.props.moveAdjacent,isEditing:t.isEditing,editAction:b,deleteAction:_},c)},r}return Object(J.a)(a,[{key:"renderChildren",value:function(){var e=this;return this.props.schema.map((function(t){return e.renderDesignerComponent(t)}))}},{key:"renderChildComponents",value:function(e,t,a){var n=this;if(void 0===t||void 0===a)return[];var l=o.a.createElement(be,null,"Drop fields here!"),i=(null===e||void 0===e?void 0:e.map((function(e){return n.renderDesignerComponent(e)})))||[];return a.type===x.a.Table?[].concat(Object($.a)(i),[o.a.createElement(pe,{id:a.id,onDrop:this.props.onDrop,previewComponent:a.previewComponent,addPreview:this.props.addPreview},o.a.createElement("div",{style:{minWidth:"100px"}},l))]):[o.a.createElement(pe,{id:a.id,onDrop:this.props.onDrop,previewComponent:a.previewComponent,addPreview:this.props.addPreview},o.a.createElement("div",{style:{minWidth:"100px"}},0!==i.length?i:l))]}},{key:"addReactTooltip",value:function(e){return e.push(o.a.createElement("span",{"data-tip":"asd"})),e.push(o.a.createElement(ee.a,null)),e}},{key:"renderRoot",value:function(){return o.a.createElement(ue,null,this.addReactTooltip(this.renderChildren()))}}]),a}(Z.a);function ye(){var e=Object(c.a)(["\n  width: 70%;\n  margin: 10px;\n  overflow: \n"]);return ye=function(){return e},e}function ve(){var e=Object(c.a)(["\n  background-color: #f8f9fa;\n  flex: 1;\n"]);return ve=function(){return e},e}function he(){var e=Object(c.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n"]);return he=function(){return e},e}var xe=d.a.div(he()),Oe=Object(d.a)(V)(ve()),Ee=Object(d.a)(pe)(ye()),ge=function(e){return o.a.createElement(xe,null,o.a.createElement(Ee,{id:"root",onDrop:e.onDrop,previewComponent:e.rootComponent.preview,addPreview:e.addPreview},o.a.createElement(fe,{schema:e.rootComponent.components,data:e.data,onEdit:e.onEdit,onDelete:e.onDelete,onDrop:e.onDrop,addPreview:e.addPreview,moveComponent:e.moveComponent,moveAdjacent:e.moveAdjacent,onSubmit:function(e){}})),o.a.createElement(Oe,{component:e.editingComponent,updateComponentSchema:e.updateComponentSchema}))};function Ce(){var e=Object(c.a)(["\n  text-align: center;\n  margin: 8px 0px;\n"]);return Ce=function(){return e},e}var je=[{type:"text",name:"name",display:{label:"Name"},validations:{required:!0}},{type:"text",name:"label",display:{label:"Label"},validations:{required:!0}},{text:"OK",style:"primary",type:"button",name:"ok",display:{label:"Button"}},{text:"Cancel",style:"secondary",type:"button",name:"cancel",display:{label:"Button"}}],De=d.a.h5(Ce()),we=function(e){var t=Object(n.useState)({}),a=Object(r.a)(t,2),l=a[0],i=a[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(De,null,"New Component: ",Object(x.b)(e.componentType)),o.a.createElement(p.a,{schema:je,data:l,onSubmit:function(t,a){"ok"===a?e.onConfirm(t.name,t.label):"cancel"===a&&e.onCancel()},onDataChange:i}))};function Pe(){var e=Object(c.a)(["\n  border: 2px solid grey;\n  border-radius: 5px;\n"]);return Pe=function(){return e},e}function Se(){var e=Object(c.a)(["\n  height: 100%;\n  width: 350px;\n  margin: auto;\n  padding-top: 300px;\n  outline: none;\n"]);return Se=function(){return e},e}function Te(){var e=Object(c.a)(["\n  height: 100%;\n  display: flex;\n  \n"]);return Te=function(){return e},e}function Ae(){var e=Object(c.a)(["\n  flex: 1;\n"]);return Ae=function(){return e},e}function Me(){var e=Object(c.a)(["\n  width: 300px;\n"]);return Me=function(){return e},e}function ke(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n"]);return ke=function(){return e},e}var Le=d.a.div(ke()),Ie=d.a.div(Me()),Re=d.a.div(Ae()),Be=d.a.div(Te()),Ne=Object(d.a)(v.a)(Se()),We=d.a.div(Pe()),Ue=function(e){var t=Object(n.useState)({}),a=Object(r.a)(t,1)[0],l=Object(n.useState)({components:e.schema}),i=Object(r.a)(l,2),c=i[0],p=i[1],s=Object(n.useState)(),d=Object(r.a)(s,2),y=d[0],v=d[1],x=Object(n.useState)(),O=Object(r.a)(x,2),E=O[0],g=O[1],C=Object(n.useState)(void 0),j=Object(r.a)(C,2),D=j[0],w=j[1],P=function(t,a){if(p(t),e.onSchemaChange&&e.onSchemaChange(t.components),a)v(a);else if(y){var n=A(y.id,t.components).component;v(n)}},S=function(e,t){if(void 0!==y){var a=A(y.id,t.components).component;a&&(a.isEditing=!1)}e.isEditing=!0,P(t,e)},T=function(e){var t=Object(b.a)(c),a=A(e,t.components),n=a.component,o=a.parent;if(n){if(o){var l=o.getComponents();l&&M(l,n.id)}else M(t.components,n.id);P(t)}},A=function e(t,a){var n=a.find((function(e){return e.id===t})),o=void 0;if(n)return{component:n,parent:void 0};a.some((function(a){var l=a.getComponents();if(!l)return!1;var i=e(t,l);return n=i.component,!(o=i.parent)&&n&&(o=a),!!n}));return{component:n,parent:o}},M=function(e,t){Object(u.a)(e,(function(e){return e.id===t}))},k=function(e,t,a){e.splice(t,0,a)},I=function(e,t,a,n){w({componentId:a.id,componentType:a.type}),-1===n?t.push(a):t.splice(n,0,a),P(e)},R=function(e,t,a,n){var o=a.findIndex((function(t){return t.id===e}));return n?o-1>=0&&a[o-1].id===t:o+1<a.length&&a[o+1].id===t};return o.a.createElement(Le,null,o.a.createElement(_.a,{backend:f.a},o.a.createElement(Ie,{className:"bg-light"},o.a.createElement(L,{resetPreview:function(){if(E){var e=Object(b.a)(c);if("root"===E)e.preview=void 0;else{var t=A(E,e.components).component;t&&(t.previewComponent=void 0)}P(e),g(void 0)}}})),o.a.createElement(Re,null,o.a.createElement(ge,{rootComponent:c,data:a,editingComponent:y,onDrop:function(e){if("drop"===e.operation){var t=Object(h.e)(e.type);if(!t)return;var a=Object(b.a)(c);if(""===e.parent)I(a,a.components,t,-1);else{var n=A(e.parent,a.components),o=n.component,l=n.parent,i=null===o||void 0===o?void 0:o.getComponents();if(i)I(a,i,t,-1);else if(l){var r=l.getComponents(),p=r.findIndex((function(e){return e.id===(null===o||void 0===o?void 0:o.id)})),s=!0===e.isAfter;I(a,r,t,p+(s?1:0))}else{var d=a.components.findIndex((function(e){return e.id===(null===o||void 0===o?void 0:o.id)})),m=!0===e.isAfter;I(a,a.components,t,d+(m?1:0))}}}else if("move"===e.operation){var u=Object(b.a)(c),_=A(e.id,u.components),f=_.component,y=_.parent;if(!f)return;if(M((null===y||void 0===y?void 0:y.getComponents())||u.components,f.id),"root"===e.parent)I(u,u.components,f,-1);else{var v=A(e.parent,u.components),x=v.component,O=v.parent;if(!x)return;var E=x.getComponents();if(E)I(u,E,f,-1);else if(O){var g=O.getComponents(),C=g.findIndex((function(e){return e.id===x.id}));I(u,g,f,C)}else{var j=u.components.findIndex((function(e){return e.id===x.id}));I(u,u.components,f,j)}}}},onEdit:function(e){var t=Object(b.a)(c),a=A(e,t.components).component;void 0!==a&&S(a,t)},onDelete:T,addPreview:function(e,t,a){var n=Object(b.a)(c),o=void 0;if(E)if(E===t)if("root"===E){var l;if((null===(l=n.preview)||void 0===l?void 0:l.type)===e)return;n.preview=void 0,g(void 0)}else{var i=A(E,n.components).component;if(i){var r;if((null===(r=(o=i).previewComponent)||void 0===r?void 0:r.type)===e&&o.previewComponent.isAfter===a)return;o.previewComponent=void 0,g(void 0)}}else if("root"===E)n.preview=void 0,g(void 0);else{var p=A(E,n.components).component;p&&((o=p).previewComponent=void 0,g(void 0))}if("root"===t)n.preview={type:e,isAfter:!0},g("root");else{var s=A(t,n.components).component;if(!s)return void console.error("Preview component parent not found!");(o=s).previewComponent={type:e,isAfter:a},g(t)}P(n)},moveComponent:function(e,t){var a=Object(b.a)(c),n=A(e,a.components),o=n.component,l=n.parent;if(o){M(l?l.getComponents():a.components,e);var i=A(t,a.components).parent;if(i){var r=i.getComponents();k(i.getComponents(),r.length,o),P(a)}}},moveAdjacent:function(e,t,a){var n=Object(b.a)(c),o=A(e,n.components),l=o.component,i=o.parent;if(l){if(i){var r=i.getComponents();if(R(e,t,r,a))return;M(r,e)}else{if(R(e,t,n.components,a))return;M(n.components,e)}var p=A(t,n.components),s=p.component,d=p.parent;if(s){if(d){var m=d.getComponents();if(!m)return void alert("meh?");k(m,m.indexOf(s)+(a?1:0),l)}else k(n.components,n.components.indexOf(s)+(a?1:0),l);P(n)}}},updateComponentSchema:function(e){var t=Object(b.a)(c);if(void 0!==y){var a=A(y.id,t.components),n=a.component,o=a.parent;if(void 0!==n){e.id=n.id;var l=(null===o||void 0===o?void 0:o.getComponents())||t.components,i=l.findIndex((function(e){return e.id===n.id}));l.splice(i,1,Object(b.a)(e)),P(t)}}}}))),o.a.createElement(Be,null,o.a.createElement(Ne,{isOpen:void 0!==D},D?o.a.createElement(We,null,o.a.createElement(we,{componentId:D.componentId,componentType:D.componentType,onConfirm:function(e,t){var a=A(D.componentId,c.components).component;void 0!==a&&(a.name=e,a.display=Object(m.a)(Object(m.a)({},a.display||{}),{},{label:t}),function(e){var t=Object(b.a)(c);S(e,t)}(a),w(void 0))},onCancel:function(){T(D.componentId),w(void 0)}})):null)))},Ke=a(108);function qe(){var e=Object(c.a)(["\n  max-width: 900px;\n  margin: 15px auto;\n"]);return qe=function(){return e},e}function Ve(){var e=Object(c.a)(["\n\tdisplay: flex;\n  flex-direction: column;\n\tflex-grow: 1;\n\n  .appitsy-builder-header-tabs {\n    margin: 10px auto;\n\n    .react-tabs__tab-list {\n      border-width: 0px;\n    }\n\n    .react-tabs__tab {\n      width: 150px;\n      border: 0px;\n      bottom: 0px;\n      border-radius: 20px;\n      margin: 0px 10px;\n      text-align: center;\n      background: WhiteSmoke;\n      box-shadow: none;\n    }\n\n    .react-tabs__tab--selected {\n      background: #e6e6e6;\n      box-shadow: 0 0 5px #686d75;\n    }\n  }\n"]);return Ve=function(){return e},e}function $e(){var e=Object(c.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n"]);return $e=function(){return e},e}var Fe=d.a.div($e()),Je=Object(d.a)(s.d)(Ve()),ze={flexGrow:1,borderTop:"2px solid #cfcfcf"},He=d.a.div(qe()),Ge=function(){var e=Object(n.useState)({}),t=Object(r.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)([]),c=Object(r.a)(i,2),d=c[0],m=c[1];return o.a.createElement(Fe,null,o.a.createElement(Je,null,o.a.createElement(s.b,{className:"appitsy-builder-header-tabs"},o.a.createElement(s.a,null,"Designer"),o.a.createElement(s.a,null,"Schema JSON"),o.a.createElement(s.a,null,"Preview")),o.a.createElement(s.c,{style:ze},o.a.createElement(Ue,{schema:d,onSchemaChange:function(e){return m(e)}})),o.a.createElement(s.c,{style:ze},o.a.createElement(He,null,o.a.createElement(Ke.a,{schema:d,onSchemaChange:m}))),o.a.createElement(s.c,{style:ze},o.a.createElement(He,{className:"card card-body bg-light"},o.a.createElement(p.a,{schema:d,data:a,onDataChange:l,onSubmit:function(e){return alert(JSON.stringify(e))}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},24:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"d",(function(){return p})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return d})),a.d(t,"e",(function(){return u})),a.d(t,"f",(function(){return b})),a.d(t,"g",(function(){return _}));var n=a(10),o=a(2),l=a(9),i=a.n(l),r=a(94),c=[o.a.TextField,o.a.TextArea,o.a.Number,o.a.Email,o.a.Button,o.a.Password,o.a.Checkbox,o.a.MultiCheckbox,o.a.Select,o.a.Radio],p=[o.a.Panel,o.a.Tabs],s=[o.a.Table,o.a.ObjectComponent],d=[].concat(c,p,s),m=function(e){var t=Object(n.a)(Object(n.a)({},e),{},{id:Object(r.a)(),components:[]});return t.getComponents=function(){return this.components},t.setComponents=function(e){this.components=e},t},u=function(e){var t={id:Object(r.a)(),isEditing:!1,getComponents:function(){},setComponents:function(){},type:e,name:e,display:{label:Object(o.b)(e)}};switch(e){case o.a.TextField:case o.a.TextArea:case o.a.Email:case o.a.Number:case o.a.Checkbox:return Object(n.a)({},t);case o.a.Button:return i.a.defaultsDeep({text:"Submit",style:"primary"},t);case o.a.Password:return i.a.defaultsDeep({display:{placeholder:"********"}},t);case o.a.Radio:case o.a.Select:return Object(n.a)(Object(n.a)({},t),{},{data:{options:[{value:"",label:""}]}});case o.a.MultiCheckbox:return Object(n.a)(Object(n.a)({},t),{},{data:{checkboxes:[{value:"",label:""}]}});case o.a.Panel:var a=Object(n.a)(Object(n.a)({},t),{},{components:[]});return a.getComponents=function(){return this.components},a.setComponents=function(e){this.components=e},a;case o.a.Tabs:var l=m({name:"tab1",display:{label:"Tab1"}}),c=Object(n.a)(Object(n.a)({},t),{},{components:[l]});return c.getComponents=function(){return this.components},c.setComponents=function(e){this.components=e},c;case o.a.Table:var p=Object(n.a)(Object(n.a)({},t),{},{data:{columns:[],allowSorting:!0,allowAddRemove:!0}});return p.getComponents=function(){return this.data.columns},p.setComponents=function(e){this.data.columns=e},p;case o.a.ObjectComponent:var s=Object(n.a)(Object(n.a)({},t),{},{components:[]});return s.getComponents=function(){return this.components},s.setComponents=function(e){this.components=e},s;default:return}},b=function e(t){if(void 0===t.type)throw new Error("Wrong JSON being parsed");var a=u(t.type)||{},n=i.a.assign(a,t),l=n.getComponents();if(void 0!==l)switch(n.type){case o.a.Tabs:n.setComponents(l.map((function(t){var a,n=m(t),o=(null===(a=t.components)||void 0===a?void 0:a.map((function(t){return e(t)})))||[];return n.setComponents(o),n})));break;default:n.setComponents(l.map((function(t){return e(t)})))}return n},_=function e(t){var a=i.a.cloneDeep(t);return(a=a.map((function(t){return void 0!==t.getComponents()&&t.setComponents(e(t.getComponents())),t}))).map((function(e){return delete e.id,delete e.isEditing,delete e.previewComponent,delete e.getComponents,delete e.setComponents,e}))}}},[[116,1,2]]]);
//# sourceMappingURL=main.a1c780db.chunk.js.map