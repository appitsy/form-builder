(this["webpackJsonpappitsy-builder"]=this["webpackJsonpappitsy-builder"]||[]).push([[0],{108:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SchemaEditor}));var C_appitsy_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),C_appitsy_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),lodash__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__),react_json_view__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(109),react_json_view__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react_json_view__WEBPACK_IMPORTED_MODULE_4__),_appitsy_forms_components_Basic__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(18),_emotion_styled__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6),_Utilities_ComponentTypes__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(20);function _templateObject2(){var e=Object(C_appitsy_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__.a)(["\n\tmargin-left: 10px;\n"]);return _templateObject2=function(){return e},e}function _templateObject(){var e=Object(C_appitsy_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__.a)(["\n  text-align: right;\n  margin-bottom: 10px;\n"]);return _templateObject=function(){return e},e}var SchemaActions=_emotion_styled__WEBPACK_IMPORTED_MODULE_6__.a.div(_templateObject()),SchemaActionButton=Object(_emotion_styled__WEBPACK_IMPORTED_MODULE_6__.a)(_appitsy_forms_components_Basic__WEBPACK_IMPORTED_MODULE_5__.a)(_templateObject2()),SchemaEditor=function SchemaEditor(props){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),_useState2=Object(C_appitsy_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState,2),isSchemaEditable=_useState2[0],setIsSchemaEditable=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(""),_useState4=Object(C_appitsy_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState3,2),editingSchema=_useState4[0],setEditingSchema=_useState4[1],schema=Object(_Utilities_ComponentTypes__WEBPACK_IMPORTED_MODULE_7__.g)(props.schema),copyToClipboard=function(e){return navigator.clipboard.writeText(e)},jsonFormattedString=function(){return JSON.stringify(schema,null,"  ")},startSchemaEditing=function(){setIsSchemaEditable(!0),setEditingSchema(jsonFormattedString())},endSchemaEditing=function endSchemaEditing(){setIsSchemaEditable(!1),setEditingSchema("");var jsonArray=eval("(".concat(editingSchema,")"));if(!lodash__WEBPACK_IMPORTED_MODULE_3___default.a.isArray(jsonArray))throw new Error("JSON Array expected here..");var saveSchema=jsonArray.map((function(e){return Object(_Utilities_ComponentTypes__WEBPACK_IMPORTED_MODULE_7__.f)(e)}));props.onSchemaChange(saveSchema)};return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(SchemaActions,null,isSchemaEditable?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(SchemaActionButton,{name:"saveSchema",display:{label:"Save",leftIcon:"save"},onClick:endSchemaEditing,style:"secondary"}):react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(SchemaActionButton,{name:"editSchema",display:{label:"Edit",leftIcon:"pen"},onClick:startSchemaEditing,style:"secondary"}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(SchemaActionButton,{name:"copyToClipboard",display:{label:"Copy",leftIcon:"clipboard"},onClick:function(){return copyToClipboard(jsonFormattedString())},style:"primary"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"card card-body bg-light"},isSchemaEditable?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("textarea",{rows:20,value:editingSchema,onChange:function(e){return setEditingSchema(e.target.value)}}," sd "):react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_json_view__WEBPACK_IMPORTED_MODULE_4___default.a,{src:schema})))}},115:function(e,a,t){e.exports=t(148)},120:function(e,a,t){},121:function(e,a,t){},148:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),l=t(36),i=t.n(l),r=(t(120),t(12)),c=t(7),p=(t(121),t(5)),d=t.n(p),s=t(49),m=t(6),u=t(10),b=t(152),_=t(26),y=t(151),f=t(110),v=t(102),h=t.n(v),x=t(20),O=t(1),E=t(153);function g(){var e=Object(c.a)(["\n  display: block;\n"]);return g=function(){return e},e}function j(){var e=Object(c.a)(["\n  margin: 0px 10px 5px 10px;\n  padding-bottom: 5px;\n  border-bottom: 2px solid lightgrey;\n"]);return j=function(){return e},e}function D(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 15px;\n"]);return D=function(){return e},e}function C(){var e=Object(c.a)(["\n  border-radius: 10px;\n  z-index: 2;\n  background-color: white;\n  box-shadow: 0 1px 3px 0 rgba(0,0,0,.1), 0 1px 2px 0 rgba(0,0,0,.06);\n  padding: 0.5rem 1rem;\n  float: left;\n  width: 90px;\n  height: 55px;\n  margin: 5px;\n  font-size: 14px;\n  text-align: center;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return C=function(){return e},e}function w(){var e=Object(c.a)(["\n  overflow: hidden;\n  clear: both;\n  height: 100%;\n"]);return w=function(){return e},e}var P,S=m.a.div(w()),T=Object(m.a)((function(e){var a={name:e.name,type:e.type,operation:e.operation},t=Object(E.a)({item:a,options:{dropEffect:"copy"},collect:function(e){return{opacity:e.isDragging()?.6:1}},end:function(a,t){e.resetPreview()}}),n=Object(r.a)(t,2),l=n[0].opacity,i=n[1];return o.a.createElement("div",{ref:i,className:e.className,style:{opacity:l}},e.children)}))(C()),M=m.a.div(D()),k=m.a.h6(j()),A=m.a.div(g()),L=function(e,a){return e.map((function(e){var t=Object(O.b)(e);return o.a.createElement(T,{name:t,type:e,operation:"drop",resetPreview:a},o.a.createElement("span",null,t))}))},I=function(e){return o.a.createElement(S,null,o.a.createElement(M,null,o.a.createElement(k,null,"Basic"),o.a.createElement(A,null,L(x.a,e.resetPreview))),o.a.createElement(M,null,o.a.createElement(k,null,"Layout"),o.a.createElement(A,null,L(x.d,e.resetPreview))),o.a.createElement(M,null,o.a.createElement(k,null,"Data"),o.a.createElement(A,null,L(x.c,e.resetPreview))))},N=t(8),R=t.n(N),B=t(15),W=t(17),U=function(e,a){if(a[a.length-1].type!==W.f)throw new Error("schema for component type '".concat(e,"' doesn't contain a tabs component"));return a},K=(P={},Object(B.a)(P,O.a.TextField,U(O.a.TextField,[{type:"text",name:"name",display:{label:"Name"}},{type:"tabs",name:"textFieldEditing",components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label"}},{type:"text",name:"placeholder",display:{label:"Placeholder"}},{type:"text",name:"prefix",display:{label:"Prefix",placeholder:""}},{type:"text",name:"suffix",display:{label:"Suffix"}}]},{name:"data",display:{label:"Data"},components:[{type:"text",name:"path",display:{label:"Data Path"}},{type:"text",name:"defaultValue",display:{label:"Default Value"}}]},{components:[{type:"checkbox",name:"required",display:{label:"Required"}},{type:"text",name:"minLength",display:{label:"Min Length",placeholder:""}},{type:"text",name:"maxLength",display:{label:"Max Length"}}],name:"validations",display:{label:"Validations"}}],data:{path:"$"}}])),Object(B.a)(P,O.a.TextArea,U(O.a.TextArea,[{type:"text",name:"name",display:{label:"Name"}},{type:"tabs",name:"textAreaEditing",display:{label:"Tabs "},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label"}},{type:"text",name:"placeholder",display:{label:"Placeholder"}}]},{name:"data",display:{label:"Data"},components:[{type:"text",name:"path",display:{label:"Data Path"}},{type:"text",name:"defaultValue",display:{label:"Default Value"}}]}],data:{path:"$"}}])),Object(B.a)(P,O.a.Email,U(O.a.Email,[{type:"text",name:"name",display:{label:"Name"}},{type:"tabs",name:"textFieldEditing",components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label"}},{type:"text",name:"placeholder",display:{label:"Placeholder"}},{type:"text",name:"prefix",display:{label:"Prefix",placeholder:""}},{type:"text",name:"suffix",display:{label:"Suffix"}}]},{name:"data",display:{label:"Data"},components:[{type:"text",name:"path",display:{label:"Data Path"}},{type:"text",name:"defaultValue",display:{label:"Default Value"}}]},{components:[{type:"checkbox",name:"required",display:{label:"Required"}},{type:"text",name:"minLength",display:{label:"Min Length",placeholder:""}},{type:"text",name:"maxLength",display:{label:"Max Length"}}],name:"validations",display:{label:"Validations"}}],data:{path:"$"}}])),Object(B.a)(P,O.a.Number,U(O.a.Number,[{type:"text",name:"name",display:{label:"Name",placeholder:"",prefix:"",suffix:""}},{type:"tabs",name:"tabs1",display:{label:""},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label",placeholder:"",prefix:"",suffix:""},data:{defaultValue:""},validations:{maxLength:""}}]},{components:[],name:"data",display:{label:"Data"}},{components:[],name:"validations",display:{label:"Validations"}}],data:{path:"$"}}])),Object(B.a)(P,O.a.Checkbox,U(O.a.Checkbox,[{type:"text",name:"name",display:{label:"Name",placeholder:"",prefix:"",suffix:""}},{type:"tabs",name:"tabs1",display:{label:"Tabs "},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label",placeholder:"",prefix:"",suffix:""},validations:{maxLength:"",checkbox1:!0}}]},{components:[{type:"text",name:"path",display:{label:"Path",placeholder:"",prefix:"",suffix:""},data:{defaultValue:""},validations:{maxLength:""}},{type:"checkbox",name:"defaultValue",display:{label:"Default Value"}}],name:"data",display:{label:"Data"}},{components:[{type:"checkbox",name:"required",display:{label:"Required"}}],name:"validations",display:{label:"Validations"}}],data:{path:"$"}}])),Object(B.a)(P,O.a.MultiCheckbox,U(O.a.MultiCheckbox,[{type:"text",name:"name",display:{label:"Name",placeholder:"",prefix:"",suffix:""}},{type:"tabs",name:"tabs1",display:{label:"Tabs 1"},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"description",display:{label:"Description",placeholder:"",prefix:"",suffix:""}},{type:"checkbox",name:"hidden",display:{label:"Hidden"}},{type:"checkbox",name:"disabled",display:{label:"Disabled"}}]},{components:[{type:"table",name:"checkboxes",display:{label:"Table 1"},components:[{type:"text",name:"value",display:{label:"Value",placeholder:"",prefix:"",suffix:""}},{type:"text",name:"label",display:{label:"Label"}}]}],name:"data",display:{label:"Data"}},{components:[{type:"number",name:"minSelected",display:{label:"Number 1"}},{type:"number",name:"maxSelected",display:{label:"Number 1"}}],name:"validations",display:{label:"Validations"}}],data:{path:"$"}}])),Object(B.a)(P,O.a.Password,U(O.a.Password,[{type:"text",name:"name",display:{label:"Name"}},{type:"tabs",name:"textFieldEditing",display:{label:"Tabs "},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label"}},{type:"text",name:"placeholder",display:{label:"Placeholder",placeholder:"",prefix:"",suffix:""}},{type:"text",name:"prefix",display:{label:"Prefix",placeholder:""}},{type:"text",name:"suffix",display:{label:"Suffix"}}]},{name:"data",display:{label:"Data"},components:[{type:"text",name:"path",display:{label:"Data Path"}}]},{components:[{type:"checkbox",name:"checkbox1",display:{label:"Checkbox 1"}},{type:"text",name:"minLength",display:{label:"Min Length",placeholder:""}},{type:"text",name:"maxLength",display:{label:"Max Length"}}],name:"validations",display:{label:"Validations"}}],data:{path:"$"}}])),Object(B.a)(P,O.a.Select,U(O.a.Select,[{type:"text",name:"name",display:{label:"Name",placeholder:"",prefix:"",suffix:""}},{type:"tabs",name:"tabs1",display:{label:"Tabs 1"},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"description",display:{label:"Description",placeholder:"",prefix:"",suffix:""}},{type:"checkbox",name:"hidden",display:{label:"Hidden"}},{type:"checkbox",name:"disabled",display:{label:"Disabled"}}]},{components:[{type:"table",name:"options",display:{label:"Table 1"},components:[{type:"text",name:"value",display:{label:"Value",placeholder:"",prefix:"",suffix:""}},{type:"text",name:"label",display:{label:"Label"}}]}],name:"data",display:{label:"Data"}},{components:[{type:"number",name:"minSelected",display:{label:"Number 1"}},{type:"number",name:"maxSelected",display:{label:"Number 1"}}],name:"validations",display:{label:"Validations"}}],data:{path:"$"}}])),Object(B.a)(P,O.a.Radio,U(O.a.Radio,[{type:"text",name:"name",display:{label:"Name",placeholder:"",prefix:"",suffix:""}},{type:"tabs",name:"tabs1",display:{label:"Tabs 1"},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"description",display:{label:"Description",placeholder:"",prefix:"",suffix:""}},{type:"checkbox",name:"hidden",display:{label:"Hidden"}},{type:"checkbox",name:"disabled",display:{label:"Disabled"}}]},{components:[{type:"table",name:"options",display:{label:"Table 1"},components:[{type:"text",name:"value",display:{label:"Value",placeholder:"",prefix:"",suffix:""}},{type:"text",name:"label",display:{label:"Label"}}]}],name:"data",display:{label:"Data"}},{components:[],name:"validations",display:{label:"Validations"}}],data:{path:"$"}}])),Object(B.a)(P,O.a.Button,U(O.a.Button,[{type:"text",name:"name",display:{label:"Name",placeholder:"",prefix:"",suffix:""}},{type:"text",name:"style",display:{label:"Style",placeholder:"",prefix:"",suffix:""},data:{defaultValue:"",path:""},validations:{maxLength:""}},{type:"tabs",name:"buttonConfig",display:{label:"Button Configuration"},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label"}},{type:"text",name:"leftIcon",display:{label:"Left Icon"}},{type:"text",name:"rightIcon",display:{label:"Right Icon"}}]}],data:{path:"$"}}])),Object(B.a)(P,O.a.Panel,U(O.a.Panel,[{type:"text",name:"name",display:{label:"Name"}},{type:"tabs",name:"textFieldEditing",components:[]}])),Object(B.a)(P,O.a.Columns,U(O.a.Columns,[{type:"text",name:"name",display:{label:"Name"}},{type:"tabs",name:"textFieldEditing",components:[]}])),Object(B.a)(P,O.a.Tabs,U(O.a.Tabs,[{type:"text",name:"name",display:{label:"Name"}},{type:"tabs",name:"textFieldEditing",display:{label:"Tabs "},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label"}},{type:"table",name:"components",display:{label:"Tabs"},components:[{type:"text",name:"name",display:{label:"Tab name"}},{type:"object",name:"display",display:{label:"Tab label",hideLabel:!0},components:[{type:"text",name:"label",display:{hideLabel:!0}}]}],data:{path:"$.components",addNewDefault:'let tab = ({ "id": uuid(), components: [] }); tab;'}}]},{components:[{type:"text",name:"path",display:{label:"Data Path",placeholder:"",prefix:"",suffix:""}}],name:"data",display:{label:"Data"}}],data:{path:"$"}}])),Object(B.a)(P,O.a.Table,U(O.a.Table,[{type:"text",name:"name",display:{label:"Name"}},{type:"tabs",name:"tableConfig",display:{label:"Tabs 1"},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label",placeholder:"",prefix:"",suffix:""}}]},{components:[{type:"checkbox",name:"minOneRow",display:{label:"At Least 1 Row"}},{type:"checkbox",name:"allowSorting",display:{label:"Allow Sorting"}},{type:"checkbox",name:"allowAddRemove",display:{label:"Allow Add/Remove"}}],name:"data",display:{label:"Data"}}],data:{path:"$"}}])),Object(B.a)(P,O.a.ObjectComponent,U(O.a.ObjectComponent,[{type:"text",name:"name",display:{label:"Name",placeholder:"",prefix:"",suffix:""}},{type:"tabs",name:"objectComponentConfig",display:{label:""},components:[{name:"display",display:{label:"Display"},components:[{type:"text",name:"label",display:{label:"Label",placeholder:"",prefix:"",suffix:""}}]}],data:{path:"$"}}])),P);function V(){var e=Object(c.a)(["\n  padding: 15px;\n"]);return V=function(){return e},e}var q=m.a.div(V()),F=o.a.memo((function(e){var a=e.component?K[e.component.type]:void 0;return o.a.createElement(q,{className:d()(e.className,"bg-light")},a?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,"Component Properties"),o.a.createElement(s.a,{schema:a,data:e.component,onDataChange:e.updateComponentSchema})):o.a.createElement("h6",null,"Select a component to continue edit it.."))}),(function(e,a){return R.a.isEqual(e.component,a.component)})),$=t(154);function H(){var e=Object(c.a)(["\n    border-radius: 10px;\n    background-color: darkgrey;\n    opacity: 50%;\n    font-weight: 500;\n    padding: 5px 10px;\n    line-height: 0.5rem;\n    text-transform: capitalize;\n"]);return H=function(){return e},e}var J=m.a.div(H()),z=function(e){return o.a.createElement(J,{className:"unselectable-text"},e.type)};function G(){var e=Object(c.a)(["\n  width: 100%;\n  overflow-y: auto;\n  border: ",";\n"]);return G=function(){return e},e}var Q=m.a.div(G(),(function(e){return e.border})),X=function(e){var a=Object($.a)({accept:x.b,hover:function(a,t){var n=a.id,o=a.type;!n&&t.isOver({shallow:!0})&&e.addPreview(o,e.id,!1)},drop:function(a,t){t.isOver()&&e.onDrop(Object(u.a)(Object(u.a)({},a),{},{parent:e.id}))},collect:function(e){return{isOver:e.isOver({shallow:!0}),canDrop:e.canDrop()}}}),t=Object(r.a)(a,2),n=t[0],l=n.canDrop,i=n.isOver,c=t[1],p=function(e,a){return e?"dashed 1px gray":"dashed 1px transparent"}(l&&i);return o.a.createElement(Q,{border:p,ref:c,className:e.className},e.children,e.previewComponent?o.a.createElement(z,{type:e.previewComponent.type}):null)},Y=t(80),Z=t(104),ee=t(105),ae=t(42),te=t(112),ne=t(111),oe=t(58),le=t(28),ie=t(22),re=t(66);function ce(){var e=Object(c.a)(["\n  display: flex; \n  flex-direction: row;\n\n  * {\n    margin: 0px 1px;\n  }\n\n  i {\n    font-size: 14px;\n  }\n"]);return ce=function(){return e},e}var pe=m.a.div(ce());function de(){var e=Object(c.a)(["\n  display: flex;\n  align-items: stretch;\n"]);return de=function(){return e},e}function se(){var e=Object(c.a)(["\n  padding: 7px;\n  background-color: ",";\n"]);return se=function(){return e},e}function me(){var e=Object(c.a)(["\n  background-color: lightgrey;\n  padding: 10px;\n  margin: 0px;\n  flex: 1;\n  text-align: center;\n"]);return me=function(){return e},e}function ue(){var e=Object(c.a)(["\n    display: flex;\n    flex-direction: column;\n    padding: 7px;\n"]);return ue=function(){return e},e}var be=m.a.div(ue()),_e=m.a.div(me()),ye=Object(m.a)((function(e){var a=Object(n.useRef)(null),t=Object(n.useRef)(null),l=function(e){var a=t.current.getBoundingClientRect(),n=(a.bottom-a.top)/2;return e.getClientOffset().y-a.top>n},i=Object($.a)({accept:x.b,hover:function(a,n){var o=a.id,i=a.type;t.current&&o!==e.id&&n.isOver({shallow:!0})&&(o?o!==e.id&&e.moveAdjacent(o,e.id,l(n)):e.addPreview(i,e.id,l(n)))},drop:function(a,t){t.isOver()&&e.onDrop(Object(u.a)(Object(u.a)({},a),{},{parent:e.id,isAfter:l(t)}))}}),c=Object(r.a)(i,2)[1],p=Object(E.a)({item:{type:e.type,id:e.id,operation:e.operation},collect:function(e){return{isDragging:e.isDragging()}},end:function(a,t){var n=t.getItem().id,o=t.didDrop();n!==e.id&&(o||e.moveComponent(n,e.id))}}),d=Object(r.a)(p,3),s=d[0].isDragging,m=d[1],b=d[2],_=s?.5:1;c(t),m(a);var y=o.a.createElement("div",{ref:a},o.a.createElement(ie.a,{icon:"arrows-alt"})),f=e.previewComponent?o.a.createElement(z,{type:e.previewComponent.type}):null;return o.a.createElement("div",{ref:t,className:e.className,style:{opacity:_}},o.a.createElement("div",{ref:b}),e.previewComponent&&!e.previewComponent.isAfter?f:null,o.a.createElement(pe,null,e.editAction,y,e.deleteAction),e.children,e.previewComponent&&e.previewComponent.isAfter?f:null)}))(se(),(function(e){return e.isEditing?"#ffffb3":""})),fe=Object(m.a)(X)(de()),ve=function(e){Object(te.a)(t,e);var a=Object(ne.a)(t);function t(){var e,n,l,i,r,c;Object(Z.a)(this,t);for(var p=arguments.length,d=new Array(p),s=0;s<p;s++)d[s]=arguments[s];return(c=a.call.apply(a,[this].concat(d))).dropFieldsHereComponent=o.a.createElement(_e,null,"Drop fields here!"),c.renderDesignerComponent=function(a){var p,d="".concat(a.id);switch(a.type){case O.a.Columns:var s=a;p=Object(oe.a)((e=Object(ae.a)(c),Object(le.a)(t.prototype)),"renderComponent",e).call(e,s,d);break;case O.a.Panel:var m=a;m.display=Object(u.a)(Object(u.a)({},m.display),{},{expandable:!1}),p=Object(oe.a)((n=Object(ae.a)(c),Object(le.a)(t.prototype)),"renderComponent",n).call(n,m,d);break;case O.a.Tabs:var b=a;p=Object(oe.a)((l=Object(ae.a)(c),Object(le.a)(t.prototype)),"renderComponent",l).call(l,b,d);break;case O.a.Table:var _=R.a.cloneDeep(a);_.display||(_.display={}),_.display.minOneRow=!0,_.display.allowAddRemove=!1,_.display.allowSorting=!1,p=Object(oe.a)((i=Object(ae.a)(c),Object(le.a)(t.prototype)),"renderComponent",i).call(i,_,d);break;default:p=Object(oe.a)((r=Object(ae.a)(c),Object(le.a)(t.prototype)),"renderComponent",r).call(r,a,d)}var y=o.a.createElement("div",{onClick:function(){return c.props.onEdit(a.id)}},o.a.createElement(ie.a,{icon:"pen"})),f=o.a.createElement("div",{onClick:function(){return c.props.onDelete(a.id)}},o.a.createElement(ie.a,{icon:"trash-alt"}));return o.a.createElement(ye,{id:a.id,key:a.id,type:a.type,operation:"move",onDrop:c.props.onDrop,previewComponent:a.components?void 0:a.previewComponent,addPreview:c.props.addPreview,moveComponent:c.props.moveComponent,moveAdjacent:c.props.moveAdjacent,isEditing:a.isEditing,editAction:y,deleteAction:f},p)},c}return Object(ee.a)(t,[{key:"renderChildren",value:function(){var e=this;return 0===this.props.schema.length?[this.dropFieldsHereComponent]:this.props.schema.map((function(a){return e.renderDesignerComponent(a)}))}},{key:"renderChildComponents",value:function(e,a,t){var n=this;if(void 0===a||void 0===t)return[];var l=(null===e||void 0===e?void 0:e.map((function(e){return n.renderDesignerComponent(e)})))||[];return t.type===O.a.Table||t.type===O.a.Columns?[].concat(Object(Y.a)(l),[o.a.createElement(fe,{id:t.id,onDrop:this.props.onDrop,previewComponent:t.previewComponent,addPreview:this.props.addPreview,className:"appitsy-table-drop-here"},this.dropFieldsHereComponent)]):[o.a.createElement(fe,{id:t.id,onDrop:this.props.onDrop,previewComponent:t.previewComponent,addPreview:this.props.addPreview},o.a.createElement("div",{style:{flex:"1"}},0!==l.length?l:this.dropFieldsHereComponent))]}},{key:"renderRoot",value:function(){return o.a.createElement(be,{className:"appitsy-droppable-form"},this.renderChildren())}}]),t}(re.a);function he(){var e=Object(c.a)(["\n  width: 70%;\n  margin: 10px;\n  overflow: \n"]);return he=function(){return e},e}function xe(){var e=Object(c.a)(["\n  background-color: #f8f9fa;\n  flex: 1;\n"]);return xe=function(){return e},e}function Oe(){var e=Object(c.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n"]);return Oe=function(){return e},e}var Ee=m.a.div(Oe()),ge=Object(m.a)(F)(xe()),je=Object(m.a)(X)(he()),De=function(e){return o.a.createElement(Ee,null,o.a.createElement(je,{id:"root",onDrop:e.onDrop,previewComponent:e.rootComponent.preview,addPreview:e.addPreview},o.a.createElement(ve,{schema:e.rootComponent.components,data:e.data,onEdit:e.onEdit,onDelete:e.onDelete,onDrop:e.onDrop,addPreview:e.addPreview,moveComponent:e.moveComponent,moveAdjacent:e.moveAdjacent,onSubmit:function(e){}})),o.a.createElement(ge,{component:e.editingComponent,updateComponentSchema:e.updateComponentSchema}))};function Ce(){var e=Object(c.a)(["\n  text-align: center;\n  margin: 8px 0px;\n"]);return Ce=function(){return e},e}var we=[{type:"text",name:"name",display:{label:"Name"},validations:{required:!0}},{type:"text",name:"label",display:{label:"Label"}},{components:[{text:"Submit",style:"primary",type:"button",name:"ok",display:{label:"OK"}},{text:"Submit",style:"secondary",type:"button",name:"cancel",display:{label:"Cancel",disableOnInvalidForm:!1}}],type:"columns",name:"buttonColumns",display:{label:""}}],Pe=m.a.h5(Ce()),Se=function(e){var a=Object(n.useState)({}),t=Object(r.a)(a,2),l=t[0],i=t[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(Pe,null,"New Component: ",Object(O.b)(e.componentType)),o.a.createElement(s.a,{schema:we,data:l,onSubmit:function(a,t){"ok"===t?e.onConfirm(a.name,a.label):"cancel"===t&&e.onCancel()},onDataChange:i}))};function Te(){var e=Object(c.a)(["\n  border: 2px solid grey;\n  border-radius: 5px;\n"]);return Te=function(){return e},e}function Me(){var e=Object(c.a)(["\n  height: 100%;\n  width: 350px;\n  margin: auto;\n  padding-top: 300px;\n  outline: none;\n"]);return Me=function(){return e},e}function ke(){var e=Object(c.a)(["\n  height: 100%;\n  display: flex;\n  \n"]);return ke=function(){return e},e}function Ae(){var e=Object(c.a)(["\n  flex: 1;\n"]);return Ae=function(){return e},e}function Le(){var e=Object(c.a)(["\n  width: 300px;\n"]);return Le=function(){return e},e}function Ie(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n"]);return Ie=function(){return e},e}var Ne=m.a.div(Ie()),Re=m.a.div(Le()),Be=m.a.div(Ae()),We=m.a.div(ke()),Ue=Object(m.a)(h.a)(Me()),Ke=m.a.div(Te()),Ve=function(e){var a=Object(n.useState)({}),t=Object(r.a)(a,1)[0],l=Object(n.useState)({components:e.schema}),i=Object(r.a)(l,2),c=i[0],p=i[1],d=Object(n.useState)(),s=Object(r.a)(d,2),m=s[0],v=s[1],h=Object(n.useState)(void 0),O=Object(r.a)(h,2),E=O[0],g=O[1],j=Object(n.useState)(void 0),D=Object(r.a)(j,2),C=D[0],w=D[1];Object(n.useEffect)((function(){p({components:e.schema})}),[e.schema]);var P=function(a,t){if(p(a),e.onSchemaChange&&e.onSchemaChange(a.components),t)v(t);else if(m){var n=M(m.id,a.components).component;v(n)}},S=function(e,a){if(void 0!==m){var t=M(m.id,a.components).component;t&&(t.isEditing=!1)}e.isEditing=!0,P(a,e)},T=function(e){var a=Object(_.a)(c),t=M(e,a.components),n=t.component,o=t.parent;if(n){var l=(null===o||void 0===o?void 0:o.components)||a.components;k(l,n.id),P(a)}},M=function e(a,t){var n=t.find((function(e){return e.id===a})),o=void 0;if(n)return{component:n,parent:void 0};t.some((function(t){var l=t.components;if(!l)return!1;var i=e(a,l);return n=i.component,!(o=i.parent)&&n&&(o=t),!!n}));return{component:n,parent:o}},k=function(e,a){Object(b.a)(e,(function(e){return e.id===a}))},A=function(e,a,t){e.splice(a,0,t)},L=function(e,a,t,n,o){o&&w({componentId:t.id,componentType:t.type}),-1===n?a.push(t):a.splice(n,0,t),P(e)},N=function(e,a,t,n){var o=t.findIndex((function(a){return a.id===e}));return n?o-1>=0&&t[o-1].id===a:o+1<t.length&&t[o+1].id===a},R=function(e){if("root"===E.parentId)e.preview=void 0;else{var a=M(E.parentId,e.components).component;a&&(a.previewComponent=void 0)}};return o.a.createElement(Ne,null,o.a.createElement(y.a,{backend:f.a},o.a.createElement(Re,{className:"bg-light"},o.a.createElement(I,{resetPreview:function(){if(E){var e=Object(_.a)(c);R(e),P(e),g(void 0)}}})),o.a.createElement(Be,null,o.a.createElement(De,{rootComponent:c,data:t,editingComponent:m,onDrop:function(e){if("drop"===e.operation){var a=Object(x.e)(e.type);if(!a)return;var t=Object(_.a)(c);if(""===e.parent)L(t,t.components,a,-1,!0);else{var n=M(e.parent,t.components),o=n.component,l=n.parent,i=null===o||void 0===o?void 0:o.components;if(i)L(t,i,a,-1,!0);else{var r=(null===l||void 0===l?void 0:l.components)||t.components,p=r.findIndex((function(e){return e.id===(null===o||void 0===o?void 0:o.id)})),d=!0===e.isAfter;L(t,r,a,p+(d?1:0),!0)}}}else if("move"===e.operation){var s=Object(_.a)(c),m=M(e.id,s.components),u=m.component,b=m.parent;if(!u)return;if(k((null===b||void 0===b?void 0:b.components)||s.components,u.id),"root"===e.parent)L(s,s.components,u,-1,!1);else{var y=M(e.parent,s.components),f=y.component,v=y.parent;if(!f)return;var h=f.components;if(h)L(s,h,u,-1,!1);else{var O=(null===v||void 0===v?void 0:v.components)||s.components,E=O.findIndex((function(e){return e.id===f.id}));L(s,O,u,E,!1)}}}},onEdit:function(e){var a=Object(_.a)(c),t=M(e,a.components).component;void 0!==t&&S(t,a)},onDelete:T,addPreview:function(e,a,t){var n=Object(_.a)(c);if(void 0!==E){if(E.parentId===a&&E.componentType===e&&E.isAfter===t)return;R(n)}if("root"===a)n.preview={type:e,isAfter:!0};else{var o=M(a,n.components).component;if(!o)return void console.error("Preview component parent not found!");o.previewComponent={type:e,isAfter:t}}g({parentId:a,componentType:e,isAfter:t}),P(n)},moveComponent:function(e,a){var t=Object(_.a)(c),n=M(e,t.components),o=n.component,l=n.parent;if(o){k(l?l.components:t.components,e);var i=M(a,t.components).parent;if(i){var r=i.components;A(r,r.length,o),P(t)}}},moveAdjacent:function(e,a,t){var n=Object(_.a)(c),o=M(e,n.components),l=o.component,i=o.parent;if(l){var r=(null===i||void 0===i?void 0:i.components)||n.components;if(!N(e,a,r,t)){k(r,e);var p=M(a,n.components),d=p.component,s=p.parent;if(d){var m=(null===s||void 0===s?void 0:s.components)||n.components;A(m,m.indexOf(d)+(t?1:0),l),P(n)}}}},updateComponentSchema:function(e){var a=Object(_.a)(c);if(void 0!==m){var t=M(m.id,a.components),n=t.component,o=t.parent;if(void 0!==n){e.id=n.id;var l=(null===o||void 0===o?void 0:o.components)||a.components,i=l.findIndex((function(e){return e.id===n.id}));l.splice(i,1,Object(_.a)(e)),P(a)}}}}))),o.a.createElement(We,null,o.a.createElement(Ue,{isOpen:void 0!==C},C?o.a.createElement(Ke,null,o.a.createElement(Se,{componentId:C.componentId,componentType:C.componentType,onConfirm:function(e,a){var t=M(C.componentId,c.components).component;void 0!==t&&(t.name=e,t.display=Object(u.a)(Object(u.a)({},t.display||{}),{},{label:a}),function(e){var a=Object(_.a)(c);S(e,a)}(t),w(void 0))},onCancel:function(){T(C.componentId),w(void 0)}})):null)))},qe=t(108);function Fe(){var e=Object(c.a)(["\n  height: 100%;\n"]);return Fe=function(){return e},e}function $e(){var e=Object(c.a)(["\n  height: 100%;\n"]);return $e=function(){return e},e}function He(){var e=Object(c.a)(["\n  max-width: 900px;\n  margin: 15px auto;\n"]);return He=function(){return e},e}function Je(){var e=Object(c.a)(["\n\tdisplay: flex;\n  flex-direction: column;\n\tflex-grow: 1;\n\n  ul.appitsy-builder-header-tabs {\n    margin: 10px auto;\n    border: none;\n\n    li {\n      width: 150px;\n      border: 0px;\n      bottom: 0px;\n      border-radius: 20px;\n      margin: 0px 10px;\n      text-align: center;\n      background: WhiteSmoke;\n      box-shadow: none;\n\n      &.active {\n        background: #e6e6e6;\n        box-shadow: 0 0 5px #a9afb8;\n      }\n\n      a.nav-item.nav-link {\n        color: #495057;\n        background: none;\n        border: none;\n      }\n    }\n  }\n"]);return Je=function(){return e},e}function ze(){var e=Object(c.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n"]);return ze=function(){return e},e}var Ge=m.a.div(ze()),Qe=m.a.div(Je()),Xe={flexGrow:1,borderTop:"2px solid #cfcfcf"},Ye=m.a.div(He()),Ze=m.a.div($e()),ea=m.a.div(Fe()),aa=function(){var e=Object(n.useState)({}),a=Object(r.a)(e,2),t=a[0],l=a[1],i=Object(n.useState)([]),c=Object(r.a)(i,2),p=c[0],m=c[1],u=Object(n.useState)(0),b=Object(r.a)(u,2),_=b[0],y=b[1],f=function(e){return d()("tab-pane",e===_?"active":void 0)},v=function(e){return d()(e===_?"active":void 0)};return o.a.createElement(Ge,null,o.a.createElement(Qe,null,o.a.createElement("ul",{className:"nav nav-tabs appitsy-builder-header-tabs"},o.a.createElement("li",{className:v(0),onClick:function(){return y(0)}},o.a.createElement("a",{href:"#designer",className:"nav-item nav-link","data-toggle":"tab"},"Designer")),o.a.createElement("li",{className:v(1),onClick:function(){return y(1)}},o.a.createElement("a",{href:"#schemaEditor",className:"nav-item nav-link","data-toggle":"tab"},"Schema JSON")),o.a.createElement("li",{className:v(2),onClick:function(){return y(2)}},o.a.createElement("a",{href:"#preview",className:"nav-item nav-link","data-toggle":"tab"},"Preview"))),o.a.createElement(Ze,{className:"tab-content"},o.a.createElement(ea,{className:f(0),style:Xe,id:"designer"},o.a.createElement(Ve,{schema:p,onSchemaChange:function(e){return m(e)}})),o.a.createElement(ea,{className:f(1),style:Xe,id:"schemaEditor"},o.a.createElement(Ye,null,o.a.createElement(qe.a,{schema:p,onSchemaChange:function(e){return m(e)}}))),o.a.createElement(ea,{className:f(2),style:Xe,id:"preview"},o.a.createElement(Ye,{className:"card card-body bg-light"},o.a.createElement(s.a,{schema:Object(x.g)(p),data:t,onDataChange:l,onSubmit:function(e){return alert(JSON.stringify(e))}}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(aa,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},20:function(e,a,t){"use strict";t.d(a,"a",(function(){return d})),t.d(a,"d",(function(){return s})),t.d(a,"c",(function(){return m})),t.d(a,"b",(function(){return u})),t.d(a,"e",(function(){return y})),t.d(a,"f",(function(){return f})),t.d(a,"g",(function(){return v}));var n=t(80),o=t(10),l=t(8),i=t.n(l),r=t(87),c=t(16),p=t(1),d=[p.a.TextField,p.a.TextArea,p.a.Number,p.a.Email,p.a.Button,p.a.Password,p.a.Checkbox,p.a.MultiCheckbox,p.a.Select,p.a.Radio],s=[p.a.Panel,p.a.Columns,p.a.Tabs],m=[p.a.Table,p.a.ObjectComponent],u=[].concat(d,s,m),b=function(e){return Object(o.a)(Object(o.a)({},e),{},{id:Object(r.a)(),components:[]})},_=function(){return{id:Object(r.a)(),name:c.c,type:c.c,components:[]}},y=function(e){var a={id:Object(r.a)(),isEditing:!1,components:void 0,type:e,name:e,display:{label:Object(p.b)(e)}};switch(e){case p.a.TextField:case p.a.TextArea:case p.a.Email:case p.a.Number:case p.a.Checkbox:return Object(o.a)({},a);case p.a.Button:return i.a.defaultsDeep({text:"Submit",style:"primary"},a);case p.a.Password:return i.a.defaultsDeep({display:{placeholder:"********"}},a);case p.a.Radio:case p.a.Select:return Object(o.a)(Object(o.a)({},a),{},{data:{options:[{value:"",label:""}]}});case p.a.MultiCheckbox:return Object(o.a)(Object(o.a)({},a),{},{data:{checkboxes:[{value:"",label:""}]}});case p.a.Columns:case p.a.Panel:return Object(o.a)(Object(o.a)({},a),{},{components:[]});case p.a.Tabs:var t=b({name:"tab1",display:{label:"Tab1"}});return Object(o.a)(Object(o.a)({},a),{},{components:[t]});case p.a.Table:return Object(o.a)(Object(o.a)({},a),{},{components:[_()],data:{allowSorting:!0,allowAddRemove:!0}});case p.a.ObjectComponent:return Object(o.a)(Object(o.a)({},a),{},{components:[]});default:return}},f=function e(a){if(void 0===a.type)throw new Error("Wrong JSON being parsed");var t=y(a.type)||{},o=i.a.assign(t,a),l=o.components;if(void 0!==l)switch(o.type){case p.a.Tabs:o.components=l.map((function(a){var t,n=b(a);return n.components=(null===(t=a.components)||void 0===t?void 0:t.map((function(a){return e(a)})))||[],n}));break;case p.a.Table:l.some((function(e){return e.type===c.c}))||(o.components=[].concat(Object(n.a)(l),[_()]));break;default:o.components=l.map((function(a){return e(a)}))}return o},v=function e(a){var t=i.a.cloneDeep(a);return(t=(t=t.map((function(a){return void 0!==a.components&&(a.components=e(a.components)),a}))).map((function(e){return e.type===p.a.Table&&(e.components=e.components.filter((function(e){var a;return!(e.type===c.c&&0===(null===(a=e.components)||void 0===a?void 0:a.length))}))),e}))).map((function(e){return delete e.id,delete e.isEditing,delete e.previewComponent,void 0===e.components&&delete e.components,e}))}}},[[115,1,2]]]);
//# sourceMappingURL=main.24f60a46.chunk.js.map