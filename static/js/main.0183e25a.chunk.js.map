{"version":3,"sources":["Components/ComponentListItem.tsx","Components/DraggableComponent.tsx","Components/ComponentList.tsx","Components/ComponentProperties/ComponentEditingSchemas/index.ts","Components/ComponentProperties/ComponentEditingSchemas/TextFieldEditingSchema.ts","Components/ComponentProperties/ComponentEditingSchemas/TextAreaEditingSchema.ts","Components/ComponentProperties/ComponentEditingSchemas/EmailEditingSchema.ts","Components/ComponentProperties/ComponentEditingSchemas/NumberEditingSchema.ts","Components/ComponentProperties/ComponentEditingSchemas/CheckboxEditingSchema.ts","Components/ComponentProperties/ComponentEditingSchemas/MultiCheckboxEditingSchema.ts","Components/ComponentProperties/ComponentEditingSchemas/PasswordEditingSchema.ts","Components/ComponentProperties/ComponentEditingSchemas/ButtonEditingSchema.ts","Components/ComponentProperties/ComponentEditingSchemas/PanelEditingSchema.ts","Components/ComponentProperties/ComponentEditingSchemas/TabsEditingSchema.ts","Components/ComponentProperties/ComponentEditingSchemas/TableEditingSchema.ts","Components/ComponentProperties/ComponentEditingSchemas/ObjectEditingSchema.ts","Components/ComponentProperties/ComponentProperties.tsx","Components/PreviewComponent.tsx","Components/DraggableDroppableComponent.tsx","Components/DroppableComponent.tsx","Components/DesignerRenderer.tsx","Components/DroppableRenderer.tsx","Components/Designer.tsx","App.tsx","serviceWorker.ts","index.tsx","Utilities/ComponentTypes.ts","Components/SchemaEditor.tsx"],"names":["StyledDraggableComponent","styled","props","item","name","type","operation","useDrag","options","dropEffect","collect","monitor","opacity","isDragging","end","dropResult","resetPreview","drag","ref","className","style","children","ComponentListItem","StackList","div","ComponentList","overflow","clear","height","TypeDisplayNames","TextField","Types","TextArea","Password","Email","Number","Checkbox","MultiCheckbox","Button","Panel","Tabs","Table","ObjectComponent","ComponentEditingSchemas","display","label","PropertiesPane","ComponentProperties","React","memo","componentEditingSchema","component","undefined","classNames","schema","data","onDataChange","updateComponentSchema","prevProps","nextProps","_","isEqual","getComponents","StyledPreviewComponent","PreviewComponent","Actions","DroppableArea","border","DroppableComponent","useDrop","accept","ComponentTypes","hover","draggedId","id","isOver","shallow","addPreview","drop","onDrop","parent","canDrop","isActive","selectBorder","previewComponent","StyledPage","Styled","DropFieldsHere","StyledDraggableDroppableComponent","dragRef","useRef","dropRef","isAfter","hoverBoundingRect","current","getBoundingClientRect","hoverMiddleY","bottom","top","getClientOffset","y","draggedType","moveAdjacent","droppedId","getItem","didDrop","moveComponent","preview","moveAction","Icon","icon","editAction","deleteAction","isEditing","DesignerRenderer","renderDesignerComponent","renderedComponent","key","panelComponentSchema","expandable","tabsComponentSchema","tableComponentSchema","cloneDeep","atleastOneRow","allowAddRemove","allowSorting","onClick","onEdit","onDelete","this","map","childComponents","parentPath","parentComponent","dropFieldsHereComponent","inner","panelChild","minWidth","length","push","data-tip","addReactTooltip","renderChildren","Renderer","RendererAndProperties","StyledComponentProperties","StyledDroppableComponent","DroppableRenderer","rootComponent","components","onSubmit","editingComponent","DesignerPage","ComponentListContainer","DesignerPreview","Designer","useState","setRootComponent","setEditingComponent","previewComponentParentId","setPreviewComponentParentId","updateRootComponent","root","newEditComponent","onSchemaChange","updatedEditingComponent","findComponentById","findInSchema","find","c","some","childChildren","removeComponent","componentArray","componentId","remove","x","insertComponent","atIndex","splice","insertNewComponentAtIndex","isAlreadyAdjacent","adjacentComponentId","after","componentIndex","findIndex","DndProvider","backend","HTML5Backend","rootComponentCopy","previewComponentParent","componentEl","newComponent","getDefaultPropsForType","grandParentComponent","parentChildComponents","grandParentChildren","parentIndex","oldParentComponent","newParent","newGrandParentComponent","newParentChildren","newGrandParentChildren","previousEditingComponent","parentChildren","componentType","previewComponentParentTemp","console","error","newParentId","oldParentChildren","adjacentComponent","alert","indexOf","updatedComponentSchema","parentComponentChildren","componentIdx","AppRoot","Heading","h4","AppTabs","tabPanelStyle","flexGrow","borderTop","Card","App","setData","setSchema","s","SchemaEditor","JSON","stringify","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message","createNewTab","tabProperties","tab","uuidv4","setComponents","commonProperties","getDisplayNameForType","defaultsDeep","placeholder","checkboxes","panel","tab1","tabComponent","table","columns","objComponent","parseTypeFromJson","json","Error","defaultProps","assign","tabChildren","prepareJsonSchema","jsonSchema","SchemaActions","SchemaActionButton","isSchemaEditable","setIsSchemaEditable","editingSchema","setEditingSchema","copyToClipboard","text","clipboard","writeText","jsonFormattedString","startSchemaEditing","endSchemaEditing","jsonArray","eval","isArray","saveSchema","leftIcon","rows","value","onChange","evt","target","src"],"mappings":"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","file":"static/js/main.0183e25a.chunk.js","sourcesContent":["import styled from '@emotion/styled'\r\nimport React from 'react'\r\nimport { DraggableComponent } from './DraggableComponent'\r\n\r\nconst StyledDraggableComponent = styled(DraggableComponent)`\r\n    border-radius: 10px;\r\n    z-index: 2;\r\n    background-color: white;\r\n    box-shadow: 0 1px 3px 0 rgba(0,0,0,.1), 0 1px 2px 0 rgba(0,0,0,.06);\r\n    padding: 0.5rem 1rem;\r\n    margin: 1rem 1rem 0rem 1rem;\r\n    float: left;\r\n`;\r\n\r\nexport interface ComponentListItemProps {\r\n  name: string\r\n  type: string;\r\n  resetPreview(): void;\r\n}\r\n\r\nexport const ComponentListItem: React.FC<ComponentListItemProps> = (props) => {\r\n  return (\r\n    <StyledDraggableComponent \r\n      name={props.name} \r\n      type={props.type} \r\n      operation='drop'\r\n      resetPreview={props.resetPreview}\r\n    >\r\n      {props.name}\r\n    </StyledDraggableComponent>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { useDrag } from \"react-dnd\";\r\n\r\ninterface DraggableComponentProps {\r\n  name: string;\r\n  type: string;\r\n  operation: string;\r\n  className?: string;\r\n  resetPreview(): void;\r\n}\r\n\r\nexport const DraggableComponent: React.FC<DraggableComponentProps> = (\r\n  props\r\n) => {\r\n  let item = {\r\n    name: props.name,\r\n    type: props.type,\r\n    operation: props.operation,\r\n  };\r\n  const [{ opacity }, drag] = useDrag({\r\n    item,\r\n    options: {\r\n      dropEffect: \"copy\",\r\n    },\r\n    collect: (monitor: any) => ({\r\n      opacity: monitor.isDragging() ? 0.6 : 1,\r\n    }),\r\n    end: (dropResult, monitor) => {\r\n      props.resetPreview();\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div ref={drag} className={props.className} style={{ opacity }}>\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\nimport {\r\n  TypeDisplayNames,\r\n  Types,\r\n} from 'appitsy/types/Types';\r\n\r\nimport styled from '@emotion/styled';\r\n\r\nimport { ComponentListItem } from './ComponentListItem';\r\n\r\nconst StackList = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\ninterface ComponentListProps {\r\n  resetPreview(): void;\r\n}\r\n\r\nconst ComponentList = (props: ComponentListProps) => (\r\n  <StackList style={{ overflow: \"hidden\", clear: \"both\", height: '100%' }}>\r\n    <ComponentListItem name={TypeDisplayNames.TextField} type={Types.TextField} resetPreview={props.resetPreview} />\r\n    <ComponentListItem name={TypeDisplayNames.TextArea} type={Types.TextArea} resetPreview={props.resetPreview} />\r\n    <ComponentListItem name={TypeDisplayNames.Password} type={Types.Password} resetPreview={props.resetPreview} />\r\n    <ComponentListItem name={TypeDisplayNames.Email} type={Types.Email} resetPreview={props.resetPreview} />\r\n    <ComponentListItem name={TypeDisplayNames.Number} type={Types.Number} resetPreview={props.resetPreview} />\r\n    <ComponentListItem name={TypeDisplayNames.Checkbox} type={Types.Checkbox} resetPreview={props.resetPreview} />\r\n    <ComponentListItem name={TypeDisplayNames.MultiCheckbox} type={Types.MultiCheckbox} resetPreview={props.resetPreview} />\r\n    <ComponentListItem name={TypeDisplayNames.Button} type={Types.Button} resetPreview={props.resetPreview} />\r\n    <ComponentListItem name={TypeDisplayNames.Panel} type={Types.Panel} resetPreview={props.resetPreview} />\r\n    <ComponentListItem name={TypeDisplayNames.Tabs} type={Types.Tabs} resetPreview={props.resetPreview} />\r\n    <ComponentListItem name={TypeDisplayNames.Table} type={Types.Table} resetPreview={props.resetPreview} />\r\n    <ComponentListItem name={TypeDisplayNames.ObjectComponent} type={Types.ObjectComponent} resetPreview={props.resetPreview} />\r\n  </StackList>\r\n);\r\n\r\nexport default ComponentList;\r\n","import { Types } from 'appitsy/types/Types';\r\n\r\nimport { ButtonEditingSchema } from './ButtonEditingSchema';\r\nimport { CheckboxEditingSchema } from './CheckboxEditingSchema';\r\nimport { EmailEditingSchema } from './EmailEditingSchema';\r\nimport { MultiCheckboxEditingSchema } from './MultiCheckboxEditingSchema';\r\nimport { NumberEditingSchema } from './NumberEditingSchema';\r\nimport { ObjectEditingSchema } from './ObjectEditingSchema';\r\nimport { PanelEditingSchema } from './PanelEditingSchema';\r\nimport { PasswordEditingSchema } from './PasswordEditingSchema';\r\nimport { TableEditingSchema } from './TableEditingSchema';\r\nimport { TabsEditingSchema } from './TabsEditingSchema';\r\nimport { TextAreaEditingSchema } from './TextAreaEditingSchema';\r\nimport { TextFieldEditingSchema } from './TextFieldEditingSchema';\r\n\r\nexport const ComponentEditingSchemas = {\r\n    [Types.TextField]: TextFieldEditingSchema,\r\n    [Types.TextArea]: TextAreaEditingSchema,\r\n    [Types.Email]: EmailEditingSchema,\r\n    [Types.Number]: NumberEditingSchema,\r\n    [Types.Checkbox]: CheckboxEditingSchema,\r\n    [Types.MultiCheckbox]: MultiCheckboxEditingSchema,\r\n    [Types.Password]: PasswordEditingSchema,\r\n    [Types.Button]: ButtonEditingSchema,\r\n    [Types.Panel]: PanelEditingSchema,\r\n    [Types.Tabs]: TabsEditingSchema,\r\n\r\n    [Types.Table]: TableEditingSchema,\r\n    [Types.ObjectComponent]: ObjectEditingSchema,\r\n}","import { ComponentSchema } from 'appitsy/types/ComponentSchema';\r\n\r\nexport const TextFieldEditingSchema: ComponentSchema[] = [\r\n  {\r\n    \"type\": \"text\",\r\n    \"name\": \"name\",\r\n    \"display\": {\r\n      \"label\": \"Name\"\r\n    }\r\n  },\r\n  {\r\n    \"type\": \"tabs\",\r\n    \"name\": \"textFieldEditing\",\r\n    \"components\": [\r\n      {\r\n        \"name\": \"display\",\r\n        \"display\": {\r\n          \"label\": \"Display\"\r\n        },\r\n        \"components\": [\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"label\",\r\n            \"display\": {\r\n              \"label\": \"Label\"\r\n            }\r\n          },\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"placeholder\",\r\n            \"display\": {\r\n              \"label\": \"Placeholder\"\r\n            }\r\n          },\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"prefix\",\r\n            \"display\": {\r\n              \"label\": \"Prefix\",\r\n              \"placeholder\": \"\"\r\n            }\r\n          },\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"suffix\",\r\n            \"display\": {\r\n              \"label\": \"Suffix\"\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"name\": \"data\",\r\n        \"display\": {\r\n          \"label\": \"Data\"\r\n        },\r\n        \"components\": [\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"path\",\r\n            \"display\": {\r\n              \"label\": \"Data Path\"\r\n            }\r\n          },\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"defaultValue\",\r\n            \"display\": {\r\n              \"label\": \"Default Value\"\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"components\": [\r\n          {\r\n            \"type\": \"checkbox\",\r\n            \"name\": \"required\",\r\n            \"display\": {\r\n              \"label\": \"Required\"\r\n            }\r\n          },\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"minLength\",\r\n            \"display\": {\r\n              \"label\": \"Min Length\",\r\n              \"placeholder\": \"\"\r\n            }\r\n          },\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"maxLength\",\r\n            \"display\": {\r\n              \"label\": \"Max Length\"\r\n            }\r\n          }\r\n        ],\r\n        \"name\": \"validations\",\r\n        \"display\": {\r\n          \"label\": \"Validations\"\r\n        }\r\n      }\r\n    ],\r\n    \"data\": {\r\n      \"path\": \"$\"\r\n    }\r\n  }\r\n]","import { ComponentSchema } from 'appitsy/types/ComponentSchema';\r\n\r\nexport const TextAreaEditingSchema: ComponentSchema[] = [\r\n  {\r\n    \"type\": \"text\",\r\n    \"name\": \"name\",\r\n    \"display\": {\r\n      \"label\": \"Name\"\r\n    }\r\n  },\r\n  {\r\n    \"type\": \"tabs\",\r\n    \"name\": \"textAreaEditing\",\r\n    \"display\": {\r\n      \"label\": \"Tabs \"\r\n    },\r\n    \"components\": [\r\n      {\r\n        \"name\": \"display\",\r\n        \"display\": {\r\n          \"label\": \"Display\"\r\n        },\r\n        \"components\": [\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"label\",\r\n            \"display\": {\r\n              \"label\": \"Label\"\r\n            }\r\n          },\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"placeholder\",\r\n            \"display\": {\r\n              \"label\": \"Placeholder\"\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"name\": \"data\",\r\n        \"display\": {\r\n          \"label\": \"Data\"\r\n        },\r\n        \"components\": [\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"path\",\r\n            \"display\": {\r\n              \"label\": \"Data Path\"\r\n            }\r\n          },\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"defaultValue\",\r\n            \"display\": {\r\n              \"label\": \"Default Value\"\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    ],\r\n    \"data\": {\r\n      \"path\": \"$\"\r\n    }\r\n  }\r\n]","import { ComponentSchema } from \"appitsy/types/ComponentSchema\";\r\n\r\nexport const EmailEditingSchema: ComponentSchema[] = [\r\n  {\r\n    type: 'text',\r\n    name: 'name',\r\n    display: {\r\n      label: 'Name'\r\n    }\r\n  },\r\n]","import { ComponentSchema } from 'appitsy/types/ComponentSchema';\r\n\r\nexport const NumberEditingSchema: ComponentSchema[] = [\r\n  {\r\n    \"type\": \"text\",\r\n    \"name\": \"name\",\r\n    \"display\": {\r\n      \"label\": \"Name\",\r\n      \"placeholder\": \"\",\r\n      \"prefix\": \"\",\r\n      \"suffix\": \"\"\r\n    }\r\n  },\r\n  {\r\n    \"type\": \"tabs\",\r\n    \"name\": \"tabs1\",\r\n    \"display\": {\r\n      \"label\": \"\"\r\n    },\r\n    \"components\": [\r\n      {\r\n        \"name\": \"display\",\r\n        \"display\": {\r\n          \"label\": \"Display\"\r\n        },\r\n        \"components\": [\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"label\",\r\n            \"display\": {\r\n              \"label\": \"Label\",\r\n              \"placeholder\": \"\",\r\n              \"prefix\": \"\",\r\n              \"suffix\": \"\"\r\n            },\r\n            \"data\": {\r\n              \"defaultValue\": \"\"\r\n            },\r\n            \"validations\": {\r\n              \"maxLength\": \"\"\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"components\": [],\r\n        \"name\": \"data\",\r\n        \"display\": {\r\n          \"label\": \"Data\"\r\n        }\r\n      },\r\n      {\r\n        \"components\": [],\r\n        \"name\": \"validations\",\r\n        \"display\": {\r\n          \"label\": \"Validations\"\r\n        }\r\n      }\r\n    ],\r\n    \"data\": {\r\n      \"path\": \"$\"\r\n    }\r\n  }\r\n]","import { ComponentSchema } from 'appitsy/types/ComponentSchema';\r\n\r\nexport const CheckboxEditingSchema: ComponentSchema[] = [\r\n  {\r\n    \"type\": \"text\",\r\n    \"name\": \"name\",\r\n    \"display\": {\r\n      \"label\": \"Name\",\r\n      \"placeholder\": \"\",\r\n      \"prefix\": \"\",\r\n      \"suffix\": \"\"\r\n    }\r\n  },\r\n  {\r\n    \"type\": \"tabs\",\r\n    \"name\": \"tabs1\",\r\n    \"display\": {\r\n      \"label\": \"Tabs \"\r\n    },\r\n    \"components\": [\r\n      {\r\n        \"name\": \"display\",\r\n        \"display\": {\r\n          \"label\": \"Display\"\r\n        },\r\n        \"components\": [\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"label\",\r\n            \"display\": {\r\n              \"label\": \"Label\",\r\n              \"placeholder\": \"\",\r\n              \"prefix\": \"\",\r\n              \"suffix\": \"\"\r\n            },\r\n            \"validations\": {\r\n              \"maxLength\": \"\",\r\n              \"checkbox1\": true\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"components\": [\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"path\",\r\n            \"display\": {\r\n              \"label\": \"Path\",\r\n              \"placeholder\": \"\",\r\n              \"prefix\": \"\",\r\n              \"suffix\": \"\"\r\n            },\r\n            \"data\": {\r\n              \"defaultValue\": \"\"\r\n            },\r\n            \"validations\": {\r\n              \"maxLength\": \"\"\r\n            }\r\n          },\r\n          {\r\n            \"type\": \"checkbox\",\r\n            \"name\": \"defaultValue\",\r\n            \"display\": {\r\n              \"label\": \"Default Value\"\r\n            }\r\n          }\r\n        ],\r\n        \"name\": \"data\",\r\n        \"display\": {\r\n          \"label\": \"Data\"\r\n        }\r\n      },\r\n      {\r\n        \"components\": [\r\n          {\r\n            \"type\": \"checkbox\",\r\n            \"name\": \"required\",\r\n            \"display\": {\r\n              \"label\": \"Required\"\r\n            }\r\n          }\r\n        ],\r\n        \"name\": \"validations\",\r\n        \"display\": {\r\n          \"label\": \"Validations\"\r\n        }\r\n      }\r\n    ],\r\n    \"data\": {\r\n      \"path\": \"$\"\r\n    }\r\n  }\r\n]","import { ComponentSchema } from 'appitsy/types/ComponentSchema';\r\n\r\nexport const MultiCheckboxEditingSchema: ComponentSchema[] = [\r\n  {\r\n    \"type\": \"text\",\r\n    \"name\": \"name\",\r\n    \"display\": {\r\n      \"label\": \"Name\",\r\n      \"placeholder\": \"\",\r\n      \"prefix\": \"\",\r\n      \"suffix\": \"\"\r\n    }\r\n  },\r\n  {\r\n    \"type\": \"tabs\",\r\n    \"name\": \"tabs1\",\r\n    \"display\": {\r\n      \"label\": \"Tabs 1\"\r\n    },\r\n    \"components\": [\r\n      {\r\n        \"name\": \"display\",\r\n        \"display\": {\r\n          \"label\": \"Display\"\r\n        },\r\n        \"components\": [\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"description\",\r\n            \"display\": {\r\n              \"label\": \"Description\",\r\n              \"placeholder\": \"\",\r\n              \"prefix\": \"\",\r\n              \"suffix\": \"\"\r\n            }\r\n          },\r\n          {\r\n            \"type\": \"checkbox\",\r\n            \"name\": \"hidden\",\r\n            \"display\": {\r\n              \"label\": \"Hidden\"\r\n            }\r\n          },\r\n          {\r\n            \"type\": \"checkbox\",\r\n            \"name\": \"disabled\",\r\n            \"display\": {\r\n              \"label\": \"Disabled\"\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"components\": [\r\n          {\r\n            \"type\": \"table\",\r\n            \"name\": \"checkboxes\",\r\n            \"display\": {\r\n              \"label\": \"Table 1\"\r\n            },\r\n            \"data\": {\r\n              \"columns\": [\r\n                {\r\n                  \"type\": \"text\",\r\n                  \"name\": \"name\",\r\n                  \"display\": {\r\n                    \"label\": \"Name\",\r\n                    \"placeholder\": \"\",\r\n                    \"prefix\": \"\",\r\n                    \"suffix\": \"\"\r\n                  }\r\n                },\r\n                {\r\n                  \"type\": \"text\",\r\n                  \"name\": \"label\",\r\n                  \"display\": {\r\n                    \"label\": \"Label\"\r\n                  }\r\n                },\r\n                {\r\n                  \"type\": \"checkbox\",\r\n                  \"name\": \"defaultValue\",\r\n                  \"display\": {\r\n                    \"label\": \"Default Value\"\r\n                  }\r\n                }\r\n              ]\r\n            }\r\n          }\r\n        ],\r\n        \"name\": \"data\",\r\n        \"display\": {\r\n          \"label\": \"Data\"\r\n        }\r\n      },\r\n      {\r\n        \"components\": [\r\n          {\r\n            \"type\": \"number\",\r\n            \"name\": \"minSelected\",\r\n            \"display\": {\r\n              \"label\": \"Number 1\"\r\n            }\r\n          },\r\n          {\r\n            \"type\": \"number\",\r\n            \"name\": \"maxSelected\",\r\n            \"display\": {\r\n              \"label\": \"Number 1\"\r\n            }\r\n          }\r\n        ],\r\n        \"name\": \"validations\",\r\n        \"display\": {\r\n          \"label\": \"Validations\"\r\n        }\r\n      }\r\n    ],\r\n    \"data\": {\r\n      \"path\": \"$\"\r\n    }\r\n  }\r\n]","import { ComponentSchema } from 'appitsy/types/ComponentSchema';\r\n\r\nexport const PasswordEditingSchema: ComponentSchema[] = [\r\n  {\r\n    \"type\": \"text\",\r\n    \"name\": \"name\",\r\n    \"display\": {\r\n      \"label\": \"Name\"\r\n    }\r\n  },\r\n  {\r\n    \"type\": \"tabs\",\r\n    \"name\": \"textFieldEditing\",\r\n    \"display\": {\r\n      \"label\": \"Tabs \"\r\n    },\r\n    \"components\": [\r\n      {\r\n        \"name\": \"display\",\r\n        \"display\": {\r\n          \"label\": \"Display\"\r\n        },\r\n        \"components\": [\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"label\",\r\n            \"display\": {\r\n              \"label\": \"Label\"\r\n            }\r\n          },\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"placeholder\",\r\n            \"display\": {\r\n              \"label\": \"Placeholder\",\r\n              \"placeholder\": \"\",\r\n              \"prefix\": \"\",\r\n              \"suffix\": \"\"\r\n            }\r\n          },\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"prefix\",\r\n            \"display\": {\r\n              \"label\": \"Prefix\",\r\n              \"placeholder\": \"\"\r\n            }\r\n          },\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"suffix\",\r\n            \"display\": {\r\n              \"label\": \"Suffix\"\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"name\": \"data\",\r\n        \"display\": {\r\n          \"label\": \"Data\"\r\n        },\r\n        \"components\": [\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"path\",\r\n            \"display\": {\r\n              \"label\": \"Data Path\"\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"components\": [\r\n          {\r\n            \"type\": \"checkbox\",\r\n            \"name\": \"checkbox1\",\r\n            \"display\": {\r\n              \"label\": \"Checkbox 1\"\r\n            }\r\n          },\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"minLength\",\r\n            \"display\": {\r\n              \"label\": \"Min Length\",\r\n              \"placeholder\": \"\"\r\n            }\r\n          },\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"maxLength\",\r\n            \"display\": {\r\n              \"label\": \"Max Length\"\r\n            }\r\n          }\r\n        ],\r\n        \"name\": \"validations\",\r\n        \"display\": {\r\n          \"label\": \"Validations\"\r\n        }\r\n      }\r\n    ],\r\n    \"data\": {\r\n      \"path\": \"$\"\r\n    }\r\n  }\r\n]\r\n","import { ComponentSchema } from \"appitsy/types/ComponentSchema\";\r\n\r\nexport const ButtonEditingSchema: ComponentSchema[] = [\r\n  {\r\n    type: 'text',\r\n    name: 'name',\r\n    display: {\r\n      label: 'Name'\r\n    }\r\n  },\r\n]","import { ComponentSchema } from \"appitsy/types/ComponentSchema\";\r\n\r\nexport const PanelEditingSchema: ComponentSchema[] = [\r\n  {\r\n    type: 'text',\r\n    name: 'name',\r\n    display: {\r\n      label: 'Name'\r\n    }\r\n  },\r\n]","import { ComponentSchema } from 'appitsy/types/ComponentSchema';\r\n\r\nexport const TabsEditingSchema: ComponentSchema[] = [\r\n  {\r\n    \"type\": \"text\",\r\n    \"name\": \"name\",\r\n    \"display\": {\r\n      \"label\": \"Name\"\r\n    }\r\n  },\r\n  {\r\n    \"type\": \"tabs\",\r\n    \"name\": \"textFieldEditing\",\r\n    \"display\": {\r\n      \"label\": \"Tabs \"\r\n    },\r\n    \"components\": [\r\n      {\r\n        \"name\": \"display\",\r\n        \"display\": {\r\n          \"label\": \"Display\"\r\n        },\r\n        \"components\": [\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"label\",\r\n            \"display\": {\r\n              \"label\": \"Label\"\r\n            }\r\n          },\r\n          {\r\n            \"type\": \"table\",\r\n            \"name\": \"components\",\r\n            \"display\": {\r\n              \"label\": \"Tabs\"\r\n            },\r\n            \"data\": {\r\n              \"path\": \"$.components\",\r\n              \"addNewDefault\": \"let tab = ({ \\\"id\\\": uuid(), components: [] }); tab.getComponents = function() { return this.components };  tab.setComponents = function(components) { this.components = components; }; tab;\",\r\n              \"columns\": [\r\n                {\r\n                  \"type\": \"text\",\r\n                  \"name\": \"name\",\r\n                  \"display\": {\r\n                    \"label\": \"Tab name\"\r\n                  }\r\n                },\r\n                {\r\n                  \"type\": \"object\",\r\n                  \"name\": \"display\",\r\n                  \"display\": {\r\n                    \"label\": \"Tab label\",\r\n                    \"hideLabel\": true\r\n                  },\r\n                  \"components\": [\r\n                    {\r\n                      \"type\": \"text\",\r\n                      \"name\": \"label\",\r\n                      \"display\": {\r\n                        \"hideLabel\": true\r\n                      }\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"components\": [\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"path\",\r\n            \"display\": {\r\n              \"label\": \"Data Path\",\r\n              \"placeholder\": \"\",\r\n              \"prefix\": \"\",\r\n              \"suffix\": \"\"\r\n            }\r\n          }\r\n        ],\r\n        \"name\": \"data\",\r\n        \"display\": {\r\n          \"label\": \"Data\"\r\n        }\r\n      }\r\n    ],\r\n    \"data\": {\r\n      \"path\": \"$\"\r\n    }\r\n  }\r\n]","import { ComponentSchema } from 'appitsy/types/ComponentSchema';\r\n\r\nexport const TableEditingSchema: ComponentSchema[] = [\r\n  {\r\n    \"type\": \"text\",\r\n    \"name\": \"name\",\r\n    \"display\": {\r\n      \"label\": \"Name\"\r\n    }\r\n  },\r\n  {\r\n    \"type\": \"tabs\",\r\n    \"name\": \"tableConfig\",\r\n    \"display\": {\r\n      \"label\": \"Tabs 1\"\r\n    },\r\n    \"components\": [\r\n      {\r\n        \"name\": \"display\",\r\n        \"display\": {\r\n          \"label\": \"Display\"\r\n        },\r\n        \"components\": [\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"label\",\r\n            \"display\": {\r\n              \"label\": \"Label\",\r\n              \"placeholder\": \"\",\r\n              \"prefix\": \"\",\r\n              \"suffix\": \"\"\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"components\": [\r\n          {\r\n            \"type\": \"checkbox\",\r\n            \"name\": \"atleastOneRow\",\r\n            \"display\": {\r\n              \"label\": \"At Least 1 Row\"\r\n            }\r\n          },\r\n          {\r\n            \"type\": \"checkbox\",\r\n            \"name\": \"allowSorting\",\r\n            \"display\": {\r\n              \"label\": \"Allow Sorting\"\r\n            }\r\n          },\r\n          {\r\n            \"type\": \"checkbox\",\r\n            \"name\": \"allowAddRemove\",\r\n            \"display\": {\r\n              \"label\": \"Allow Add/Remove\"\r\n            }\r\n          }\r\n        ],\r\n        \"name\": \"data\",\r\n        \"display\": {\r\n          \"label\": \"Data\"\r\n        }\r\n      }\r\n    ],\r\n    \"data\": {\r\n      \"path\": \"$\"\r\n    }\r\n  }\r\n]\r\n","import { ComponentSchema } from 'appitsy/types/ComponentSchema';\r\n\r\nexport const ObjectEditingSchema: ComponentSchema[] = [\r\n  {\r\n    \"type\": \"text\",\r\n    \"name\": \"name\",\r\n    \"display\": {\r\n      \"label\": \"Name\",\r\n      \"placeholder\": \"\",\r\n      \"prefix\": \"\",\r\n      \"suffix\": \"\"\r\n    }\r\n  },\r\n  {\r\n    \"type\": \"tabs\",\r\n    \"name\": \"objectComponentConfig\",\r\n    \"display\": {\r\n      \"label\": \"\"\r\n    },\r\n    \"components\": [\r\n      {\r\n        \"name\": \"display\",\r\n        \"display\": {\r\n          \"label\": \"Display\"\r\n        },\r\n        \"components\": [\r\n          {\r\n            \"type\": \"text\",\r\n            \"name\": \"label\",\r\n            \"display\": {\r\n              \"label\": \"Label\",\r\n              \"placeholder\": \"\",\r\n              \"prefix\": \"\",\r\n              \"suffix\": \"\"\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    ],\r\n    \"data\": {\r\n      \"path\": \"$\"\r\n    }\r\n  }\r\n]","import React from 'react';\r\n\r\nimport { Renderer } from 'appitsy';\r\nimport classNames from 'classnames';\r\nimport _ from 'lodash';\r\n\r\nimport styled from '@emotion/styled';\r\n\r\nimport { ComponentSchemaWithId } from '../DesignerRenderer';\r\nimport { ComponentEditingSchemas } from './ComponentEditingSchemas';\r\n\r\ninterface ComponentPropertiesProps {\r\n  className?: string;\r\n  component?: ComponentSchemaWithId;\r\n  updateComponentSchema(componentSchema: any): void;\r\n}\r\n\r\nconst PropertiesPane = styled.div`\r\n  padding: 15px;\r\n`;\r\n\r\nconst checkRenderer = (prevProps: ComponentPropertiesProps, nextProps: ComponentPropertiesProps) => {\r\n  return prevProps.component === nextProps.component \r\n    && (prevProps.component === undefined \r\n        || _.isEqual(prevProps.component.getComponents(), nextProps.component?.getComponents()));\r\n};\r\n\r\nexport const ComponentProperties = React.memo<ComponentPropertiesProps>((props) => {\r\n  \r\n  const componentEditingSchema = props.component ? ComponentEditingSchemas[props.component.type] : undefined;\r\n\r\n  return (\r\n    <PropertiesPane className={classNames(props.className, 'bg-light')}>\r\n      {\r\n          componentEditingSchema ? (\r\n            <>\r\n              <span>Component Properties</span>\r\n              <Renderer schema={componentEditingSchema} data={props.component} onDataChange={props.updateComponentSchema}></Renderer>\r\n            </>\r\n          ): (\r\n            <h6>Select a component to continue edit it..</h6>\r\n          )\r\n      }\r\n      \r\n    </PropertiesPane>\r\n  );\r\n}, checkRenderer);\r\n","import React from 'react';\r\nimport styled from \"@emotion/styled\";\r\n\r\ninterface PreviewComponentProps {\r\n    // TODO: some explicit type here\r\n    type: string\r\n}\r\n\r\nexport interface PreviewComponentSchema extends PreviewComponentProps {\r\n    isAfter: boolean;\r\n}\r\n\r\nexport const StyledPreviewComponent = styled.div`\r\n    border-radius: 10px;\r\n    background-color: darkgrey;\r\n    opacity: 50%;\r\n    font-weight: 500;\r\n    padding: 5px 10px;\r\n    line-height: 0.5rem;\r\n    text-transform: capitalize;\r\n`;\r\n\r\nexport const PreviewComponent: React.FC<PreviewComponentProps> = (props) => (\r\n    <StyledPreviewComponent className='unselectable-text'>{props.type}</StyledPreviewComponent>\r\n);\r\n","import React, { useRef } from 'react';\r\nimport { useDrag, useDrop, DragSourceMonitor, DropTargetMonitor, XYCoord } from 'react-dnd'\r\nimport { ComponentTypes } from '../Utilities/ComponentTypes';\r\n\r\nimport Icon from 'appitsy/components/Basic/Icon';\r\nimport styled from '@emotion/styled';\r\nimport { PreviewComponent, PreviewComponentSchema } from './PreviewComponent';\r\n\r\nconst Actions = styled.div`\r\n  display: flex; \r\n  flex-direction: row;\r\n\r\n  * {\r\n    margin: 0px 1px;\r\n  }\r\n\r\n  i {\r\n    font-size: 14px;\r\n  }\r\n`;\r\n\r\nexport interface DraggableDroppableComponentProps {\r\n  operation: string;\r\n  type: string;\r\n  id: string;\r\n  onDrop(component: any): void;\r\n  addPreview(componentType: string, adjacentComponentId: string, after: boolean): void;\r\n  moveComponent: (id: string, newParentId: string) => void;\r\n  moveAdjacent: (id: string, adjacentComponentId: string, after: boolean) => void;\r\n  children: JSX.Element;\r\n  previewComponent?: PreviewComponentSchema;\r\n  className?: string;\r\n  isEditing: boolean;\r\n  editAction: JSX.Element;\r\n  deleteAction: JSX.Element;\r\n}\r\n\r\nexport interface DragItem {\r\n  id: string;\r\n  originalPath: string;\r\n  type: string;\r\n}\r\n\r\nexport const DraggableDroppableComponent: React.FC<DraggableDroppableComponentProps> = (props) => {\r\n  const dragRef = useRef<HTMLDivElement>(null);\r\n  const dropRef = useRef<HTMLDivElement>(null);\r\n\r\n  const isAfter = (monitor: DropTargetMonitor) => {\r\n    // Determine rectangle on screen\r\n    // dropRef.current is checked and expected in the caller function to be defined\r\n    const hoverBoundingRect = dropRef.current!.getBoundingClientRect()\r\n    \r\n    // Get vertical middle\r\n    const hoverMiddleY =\r\n      (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2\r\n\r\n    // Determine mouse position\r\n    const clientOffset = monitor.getClientOffset()\r\n\r\n    // Get pixels to the top\r\n    const hoverClientY = (clientOffset as XYCoord).y - hoverBoundingRect.top\r\n\r\n    return hoverClientY > hoverMiddleY;\r\n  };\r\n\r\n  const [, drop] = useDrop({\r\n    accept: ComponentTypes,\r\n    hover({ id: draggedId, type: draggedType }: DragItem, monitor: DropTargetMonitor) {\r\n      if (!dropRef.current || draggedId === props.id || !monitor.isOver({ shallow: true })) {\r\n        return;\r\n      }\r\n\r\n      if (!draggedId) {\r\n        // new component being dragged\r\n        props.addPreview(draggedType, props.id, isAfter(monitor));\r\n      } else if (draggedId !== props.id) {\r\n        props.moveAdjacent(draggedId, props.id, isAfter(monitor));\r\n      }\r\n    },\r\n    drop: (component, monitor) => {\r\n      if (monitor.isOver()) {\r\n        props.onDrop({...component, parent: props.id, isAfter: isAfter(monitor)});\r\n      }\r\n    },\r\n  })\r\n\r\n  const [{ isDragging }, drag, preview] = useDrag({\r\n    item: { type: props.type, id: props.id, operation: props.operation },\r\n    collect: (monitor: DragSourceMonitor) => ({\r\n      isDragging: monitor.isDragging(),\r\n    }),\r\n    end: (dropResult, monitor) => {\r\n      const { id: droppedId } = monitor.getItem();\r\n      const didDrop = monitor.didDrop();\r\n      if (droppedId === props.id) {\r\n        return;\r\n      }\r\n\r\n      if (!didDrop) {\r\n        props.moveComponent(droppedId, props.id)\r\n      }\r\n    },\r\n  })\r\n\r\n  const opacity = isDragging ? 0.5 : 1;\r\n\r\n  drop(dropRef);\r\n  drag(dragRef);\r\n\r\n  const moveAction = (\r\n    <div ref={dragRef}><Icon icon='arrows-alt'/></div>\r\n  );\r\n\r\n  const previewComponent = props.previewComponent ? <PreviewComponent type={props.previewComponent.type} /> : null;\r\n\r\n  return (\r\n    <div ref={dropRef} className={props.className} style={{ opacity }}>\r\n      <div ref={preview}></div>\r\n      { props.previewComponent && !props.previewComponent.isAfter ? previewComponent : null }\r\n      <Actions>\r\n        {props.editAction}\r\n        {moveAction}\r\n        {props.deleteAction}\r\n      </Actions>\r\n      \r\n      {props.children}\r\n      { props.previewComponent && props.previewComponent.isAfter ? previewComponent : null }\r\n    </div>\r\n  )\r\n}\r\n","import styled from '@emotion/styled';\r\nimport React from 'react';\r\nimport { useDrop } from 'react-dnd';\r\nimport { ComponentTypes } from '../Utilities/ComponentTypes';\r\nimport { DragItem } from './DraggableDroppableComponent';\r\nimport { PreviewComponent, PreviewComponentSchema } from './PreviewComponent';\r\n\r\nconst selectBorder = (isActive: boolean, canDrop: boolean) => {\r\n    if (isActive) {\r\n      return 'dashed 1px gray';\r\n    } else {\r\n      return 'dashed 1px transparent';\r\n    }\r\n    // else if (canDrop) {\r\n}\r\n\r\nconst DroppableArea = styled.div<any>`\r\n  width: 100%;\r\n  overflow-y: auto;\r\n  border: ${({border}) => border};\r\n`;\r\n\r\ninterface DroppableComponentProps {\r\n    children: JSX.Element;\r\n    previewComponent?: PreviewComponentSchema;\r\n    id: string;\r\n    onDrop(component: any): void;\r\n    addPreview(componentType: string, adjacentComponentId: string, after: boolean): void;\r\n    className?: string;\r\n}\r\n\r\nexport const DroppableComponent: React.FC<DroppableComponentProps> = (props) => {\r\n    const [{ canDrop, isOver }, drop] = useDrop({\r\n      accept: ComponentTypes,\r\n      hover({ id: draggedId, type }: DragItem, monitor) {\r\n        if (!draggedId && monitor.isOver({ shallow: true })) {\r\n          // new component being dragged\r\n          props.addPreview(type, props.id, false);\r\n        }\r\n      },\r\n      drop: (component, monitor) => {\r\n        if (monitor.isOver()) {\r\n          props.onDrop({...component, parent: props.id});\r\n        }\r\n      },\r\n      collect: (monitor: any) => ({\r\n        isOver: monitor.isOver({ shallow: true }),\r\n        canDrop: monitor.canDrop(),\r\n      }),\r\n    })\r\n  \r\n    const isActive = canDrop && isOver;\r\n    const border = selectBorder(isActive, canDrop);\r\n\r\n    return (\r\n        <DroppableArea border={border} ref={drop} className={props.className}>\r\n            { props.children }\r\n            { props.previewComponent ? <PreviewComponent type={props.previewComponent.type} /> : null }\r\n        </DroppableArea>\r\n    )\r\n  }\r\n  ","import React from 'react';\r\n\r\nimport Icon from 'appitsy/components/Basic/Icon';\r\nimport {\r\n  Renderer,\r\n  RendererProps,\r\n} from 'appitsy/components/Renderer/Renderer';\r\nimport { ComponentSchema } from 'appitsy/types/ComponentSchema';\r\nimport { TableSchema } from 'appitsy/types/DataComponentSchema';\r\nimport { Types } from 'appitsy/types/Types';\r\nimport _ from 'lodash';\r\nimport ReactTooltip from 'react-tooltip';\r\n\r\nimport styled from '@emotion/styled';\r\nimport Styled from '@emotion/styled';\r\n\r\nimport { DraggableDroppableComponent } from './DraggableDroppableComponent';\r\nimport { DroppableComponent } from './DroppableComponent';\r\nimport { PreviewComponentSchema } from './PreviewComponent';\r\n\r\nconst StyledPage = Styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 7px;\r\n`;\r\nconst DropFieldsHere = styled.div`\r\n  background-color: lightgrey;\r\n  padding: 10px;\r\n  margin: 0px;\r\n`;\r\n\r\nconst StyledDraggableDroppableComponent = styled(DraggableDroppableComponent)`\r\n    padding: 7px;\r\n    background-color: ${(props) => props.isEditing ? '#ffffb3' : ''};\r\n`;\r\n\r\nexport type ComponentSchemaWithId = ComponentSchema & {\r\n  id: string;\r\n  isEditing: boolean;\r\n  previewComponent?: PreviewComponentSchema;\r\n  getComponents: () => ComponentSchemaWithId[] | undefined;\r\n  setComponents: (components: ComponentSchemaWithId[]) => void;\r\n}\r\n\r\ninterface DesignerRendererProps extends RendererProps {\r\n  schema: ComponentSchemaWithId[];\r\n  onEdit(componentId: string): void;\r\n  onDelete(componentId: string): void;\r\n  onDrop(component: any): void;\r\n  addPreview(componentType: string, adjacentComponentId: string, after: boolean): void;\r\n  moveComponent: (id: string, newPath: string) => void;\r\n  moveAdjacent: (id: string, adjacentComponentId: string, after: boolean) => void;\r\n}\r\n\r\nexport class DesignerRenderer extends Renderer<DesignerRendererProps> {\r\n  renderDesignerComponent = (component: ComponentSchemaWithId) => {\r\n    let renderedComponent;\r\n    const key = `${component.id}` \r\n    switch (component.type) {\r\n      case Types.Panel: \r\n        let panelComponentSchema = component as any;\r\n        panelComponentSchema.display = { ...panelComponentSchema.display, expandable: false };\r\n        let panel = super.renderComponent(panelComponentSchema, key);\r\n        renderedComponent = panel;\r\n        break;\r\n      case Types.Tabs: \r\n        let tabsComponentSchema = component as any;\r\n        let tabs = super.renderComponent(tabsComponentSchema, key);\r\n        renderedComponent = tabs;\r\n        break;\r\n      case Types.Table: \r\n        let tableComponentSchema = _.cloneDeep(component) as any as TableSchema;\r\n        tableComponentSchema.data.atleastOneRow = true;\r\n        tableComponentSchema.data.allowAddRemove = false;\r\n        tableComponentSchema.data.allowSorting = false;\r\n        renderedComponent = super.renderComponent(tableComponentSchema, key);\r\n        break;\r\n      default:\r\n        renderedComponent = super.renderComponent(component, key);\r\n        break;\r\n    }\r\n\r\n    const editAction = (\r\n      <div onClick={() => this.props.onEdit(component.id)}><Icon icon='pen'/></div>\r\n    );\r\n\r\n    const deleteAction = (\r\n      <div onClick={() => this.props.onDelete(component.id)}><Icon icon='trash-alt'/></div>\r\n    );\r\n\r\n    return (\r\n      <StyledDraggableDroppableComponent \r\n        id={component.id} \r\n        key={component.id} \r\n        type={component.type} \r\n        operation='move' \r\n        onDrop={this.props.onDrop}\r\n        // if this component can render children, we'll skip showing preview\r\n        // in the DraggableDroppableComponent and rather show it in Droppable area \r\n        // of the component\r\n        previewComponent={component.getComponents() ? undefined : component.previewComponent}\r\n        addPreview={this.props.addPreview}\r\n        moveComponent={this.props.moveComponent} \r\n        moveAdjacent={this.props.moveAdjacent}\r\n        isEditing={component.isEditing}\r\n        editAction={editAction}\r\n        deleteAction={deleteAction}\r\n      >\r\n        { renderedComponent }\r\n      </StyledDraggableDroppableComponent>\r\n    );\r\n  }\r\n\r\n  renderChildren() {\r\n    return this.props.schema.map((component) => this.renderDesignerComponent(component));\r\n  }\r\n\r\n  renderChildComponents(childComponents?: ComponentSchemaWithId[], parentPath?: string, parentComponent?: ComponentSchemaWithId): JSX.Element[] {\r\n    if (parentPath === undefined || parentComponent === undefined) {\r\n      return [];\r\n    }\r\n\r\n    const dropFieldsHereComponent = (<DropFieldsHere>Drop fields here!</DropFieldsHere>);\r\n\r\n    const inner = childComponents?.map((panelChild) => this.renderDesignerComponent(panelChild)) || [];\r\n\r\n    // ---- SPECIFIC COMPONENT OVERRIDE ----\r\n    if (parentComponent.type === Types.Table) {\r\n      return [\r\n        ...inner,\r\n        (\r\n        <DroppableComponent \r\n          id={parentComponent.id} \r\n          onDrop={this.props.onDrop}\r\n          previewComponent={parentComponent.previewComponent}\r\n          addPreview={this.props.addPreview}\r\n        >\r\n          <div style={{minWidth: '100px'}}>\r\n            {dropFieldsHereComponent}\r\n          </div>\r\n        </DroppableComponent>\r\n      )];\r\n    } \r\n\r\n    return [(\r\n      <DroppableComponent \r\n        id={parentComponent.id} \r\n        onDrop={this.props.onDrop}\r\n        previewComponent={parentComponent.previewComponent}\r\n        addPreview={this.props.addPreview}\r\n      >\r\n        <div style={{minWidth: '100px'}}>\r\n          { inner.length !== 0 ? inner : dropFieldsHereComponent }\r\n        </div>\r\n      </DroppableComponent>\r\n    )];\r\n  }\r\n\r\n  addReactTooltip(children: JSX.Element[]): React.ReactNode {\r\n    /*\r\n        Issue: Tried multiple things\r\n        If we remove/move the below code, either the tooltips stop working\r\n        Or tooltips stop working with showing up just one weird border at the bottom\r\n        of the screen. But I think we can live with this for now.\r\n    */\r\n    children.push(<span data-tip={\"asd\"} />);\r\n    children.push(<ReactTooltip />);\r\n    return children;\r\n  }\r\n\r\n  renderRoot() {\r\n    return (\r\n      <StyledPage>\r\n        { this.addReactTooltip(this.renderChildren()) }\r\n      </StyledPage>\r\n    );\r\n  }\r\n}\r\n","import styled from '@emotion/styled';\r\nimport React from 'react'\r\nimport { ComponentProperties } from './ComponentProperties/ComponentProperties';\r\nimport { RootComponent } from './Designer';\r\nimport { ComponentSchemaWithId, DesignerRenderer } from './DesignerRenderer';\r\nimport { DroppableComponent } from './DroppableComponent';\r\n\r\nconst RendererAndProperties = styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n`;\r\n\r\nconst StyledComponentProperties = styled(ComponentProperties)`\r\n  background-color: #f8f9fa;\r\n  flex: 1;\r\n`;\r\n\r\nconst StyledDroppableComponent = styled(DroppableComponent)`\r\n  width: 70%;\r\n  margin: 10px;\r\n  overflow: \r\n`;\r\n\r\ninterface DroppableRendererProps {\r\n  rootComponent: RootComponent;\r\n  editingComponent?: ComponentSchemaWithId;\r\n  data: any;\r\n  onDrop(component: any): void;\r\n  onEdit(componentId: string): void;\r\n  onDelete(componentId: string): void;\r\n  addPreview(componentType: string, adjacentComponentId: string, after: boolean): void;\r\n  moveComponent: (id: string, newPath: string) => void;\r\n  moveAdjacent: (id: string, adjacentComponentId: string, after: boolean) => void;\r\n  updateComponentSchema: (componentSchema: any) => void;\r\n}\r\n\r\nexport const DroppableRenderer: React.FC<DroppableRendererProps> = (props) => {\r\n  return (\r\n    <RendererAndProperties>\r\n      <StyledDroppableComponent \r\n        id=\"root\"\r\n        onDrop={props.onDrop} \r\n        previewComponent={props.rootComponent.preview}\r\n        addPreview={props.addPreview}\r\n      >\r\n          <DesignerRenderer \r\n            schema={props.rootComponent.components} \r\n            data={props.data} \r\n            onEdit={props.onEdit} \r\n            onDelete={props.onDelete} \r\n            onDrop={props.onDrop} \r\n            addPreview={props.addPreview}\r\n            moveComponent={props.moveComponent} \r\n            moveAdjacent={props.moveAdjacent} \r\n            onSubmit={(_) => {}}\r\n          />\r\n      </StyledDroppableComponent>\r\n      <StyledComponentProperties component={props.editingComponent} updateComponentSchema={props.updateComponentSchema} />\r\n    </RendererAndProperties>\r\n  )\r\n}\r\n","import React, { useState } from 'react';\r\n\r\nimport { remove } from 'lodash-es';\r\nimport cloneDeep from 'lodash-es/cloneDeep';\r\nimport { DndProvider } from 'react-dnd';\r\nimport { HTML5Backend } from 'react-dnd-html5-backend';\r\n\r\nimport styled from '@emotion/styled';\r\n\r\nimport { getDefaultPropsForType } from '../Utilities/ComponentTypes';\r\nimport ComponentList from './ComponentList';\r\nimport { ComponentSchemaWithId } from './DesignerRenderer';\r\nimport { DroppableRenderer } from './DroppableRenderer';\r\nimport { PreviewComponentSchema } from './PreviewComponent';\r\n\r\nconst DesignerPage = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 100%;\r\n`;\r\n\r\nconst ComponentListContainer = styled.div`\r\n  width: 240px;\r\n`;\r\n\r\nconst DesignerPreview = styled.div`\r\n  flex: 1;\r\n`;\r\n\r\nexport const ROOT_ID = 'root';\r\nexport const ROOT_PATH = '';\r\n\r\nexport interface RootComponent {\r\n  components: ComponentSchemaWithId[];\r\n  preview?: PreviewComponentSchema;\r\n}\r\n\r\ninterface DesignerProps {\r\n  schema: ComponentSchemaWithId[];\r\n  onSchemaChange?: (updatedSchema: ComponentSchemaWithId[]) => void;\r\n}\r\n\r\nconst Designer = (props: DesignerProps) => {\r\n  const [data] = useState<Object>({});\r\n  const [rootComponent, setRootComponent] = useState<RootComponent>({ components: props.schema });\r\n  const [editingComponent, setEditingComponent] = useState<ComponentSchemaWithId>();\r\n  const [previewComponentParentId, setPreviewComponentParentId] = useState<string>();\r\n\r\n  const updateRootComponent = (root: RootComponent, newEditComponent?: ComponentSchemaWithId): void => {\r\n    setRootComponent(root);\r\n    \r\n    if (props.onSchemaChange) {\r\n      props.onSchemaChange(root.components);\r\n    }\r\n\r\n    if (newEditComponent) {\r\n      setEditingComponent(newEditComponent);\r\n    } else if (editingComponent) {\r\n      // re-trigger editing component change if any is selected\r\n      const { component: updatedEditingComponent } = findComponentById(editingComponent.id, root.components);\r\n      setEditingComponent(updatedEditingComponent);\r\n    }\r\n  };\r\n\r\n  const onDrop = (componentEl: any) => {\r\n    if (componentEl.operation === \"drop\") {\r\n      let newComponent: ComponentSchemaWithId | undefined = getDefaultPropsForType(componentEl.type);\r\n\r\n      if (!newComponent) {\r\n        return;\r\n      }\r\n\r\n      const rootComponentCopy = cloneDeep(rootComponent);\r\n\r\n      if (componentEl.parent === ROOT_PATH) {\r\n        insertNewComponentAtIndex(rootComponentCopy.components, newComponent, -1);\r\n      } else {\r\n        const { component: parentComponent, parent: grandParentComponent } = findComponentById(componentEl.parent, rootComponentCopy.components);\r\n        const parentChildComponents = parentComponent?.getComponents();\r\n\r\n        if (parentChildComponents) {\r\n          insertNewComponentAtIndex(parentChildComponents, newComponent, -1);\r\n        } else if (grandParentComponent) {\r\n          // grand parents children should obviously be there\r\n          // otherwise we would have not got this\r\n          const grandParentChildren = grandParentComponent.getComponents()!;\r\n          const parentIndex = grandParentChildren.findIndex((x: ComponentSchemaWithId) => x.id === parentComponent?.id);\r\n          const isAfter = componentEl.isAfter === true;\r\n          insertNewComponentAtIndex(grandParentChildren, newComponent, parentIndex + (isAfter ? 1 : 0));\r\n        } else {\r\n          const parentIndex = rootComponentCopy.components.findIndex((x: ComponentSchemaWithId) => x.id === parentComponent?.id);\r\n          const isAfter = componentEl.isAfter === true;\r\n          insertNewComponentAtIndex(rootComponentCopy.components, newComponent, parentIndex + (isAfter ? 1 : 0));\r\n        }\r\n      }\r\n\r\n      updateRootComponent(rootComponentCopy);\r\n    }\r\n    else if (componentEl.operation === 'move') {\r\n      const rootComponentCopy = cloneDeep(rootComponent);\r\n      const { component, parent: oldParentComponent } = findComponentById(componentEl.id, rootComponentCopy.components);\r\n\r\n      if (!component) {\r\n        return;\r\n      }\r\n\r\n      removeComponent(oldParentComponent?.getComponents() || rootComponentCopy.components, component.id);\r\n\r\n      if (componentEl.parent === ROOT_ID) {\r\n        insertNewComponentAtIndex(rootComponentCopy.components, component, -1);\r\n      } else {\r\n        const { component: newParent, parent: newGrandParentComponent } = findComponentById(componentEl.parent, rootComponentCopy.components);\r\n\r\n        if (!newParent) {\r\n          return;\r\n        }\r\n\r\n        const newParentChildren = newParent.getComponents();\r\n\r\n        if (newParentChildren) {\r\n          insertNewComponentAtIndex(newParentChildren, component, -1);\r\n        } else if (newGrandParentComponent) {\r\n          const newGrandParentChildren = newGrandParentComponent.getComponents()!;\r\n          const parentIndex = newGrandParentChildren.findIndex((x: ComponentSchemaWithId) => x.id === newParent.id);\r\n          insertNewComponentAtIndex(newGrandParentChildren, component, parentIndex);\r\n        } else {\r\n          const parentIndex = rootComponentCopy.components.findIndex((x: ComponentSchemaWithId) => x.id === newParent.id);\r\n          insertNewComponentAtIndex(rootComponentCopy.components, component, parentIndex);\r\n        }\r\n      }\r\n      updateRootComponent(rootComponentCopy);\r\n    }\r\n  };\r\n\r\n  const onEdit = (componentId: string) => {\r\n    const rootComponentCopy = cloneDeep(rootComponent);\r\n    \r\n    // clear the earlier editing component\r\n    if (editingComponent !== undefined) {\r\n      const { component: previousEditingComponent } = findComponentById(editingComponent.id, rootComponentCopy.components);  \r\n      if (previousEditingComponent) {\r\n        previousEditingComponent.isEditing = false;\r\n      }\r\n    }\r\n\r\n    const { component } = findComponentById(componentId, rootComponentCopy.components);\r\n\r\n    if (component === undefined) {\r\n      return;\r\n    }\r\n\r\n    component.isEditing = true;\r\n    updateRootComponent(rootComponentCopy, component);\r\n  }\r\n\r\n  const onDelete = (componentId: string) => {\r\n    const rootComponentCopy = cloneDeep(rootComponent);\r\n    const { component, parent } = findComponentById(componentId, rootComponentCopy.components);\r\n\r\n    if (!component) {\r\n      return;\r\n    }\r\n\r\n    if (parent) {\r\n      const parentChildren = parent.getComponents();\r\n      if (parentChildren) {\r\n        removeComponent(parentChildren, component.id);\r\n      }\r\n    } else {\r\n      removeComponent(rootComponentCopy.components, component.id);\r\n    }\r\n    \r\n    updateRootComponent(rootComponentCopy);\r\n  };\r\n\r\n  const moveComponent = (id: string, newParentId: string) => {\r\n    const rootComponentCopy = cloneDeep(rootComponent);\r\n    const { component, parent: oldParentComponent } = findComponentById(id, rootComponentCopy.components);\r\n\r\n    if(!component) {\r\n      return;\r\n    }\r\n\r\n    if (!oldParentComponent) {\r\n      removeComponent(rootComponentCopy.components, id);\r\n    } else {\r\n      removeComponent(oldParentComponent.getComponents()!, id);\r\n    }\r\n\r\n    const { parent: newParent } = findComponentById(newParentId, rootComponentCopy.components);\r\n    if (!newParent) {\r\n      return;\r\n    }\r\n\r\n    const newParentChildren = (newParent.getComponents()!);\r\n    insertComponent(newParent.getComponents()!, newParentChildren.length, component);\r\n    updateRootComponent(rootComponentCopy);\r\n  };\r\n\r\n  const moveAdjacent = (id: string, adjacentComponentId: string, after: boolean) => {\r\n    const rootComponentCopy = cloneDeep(rootComponent);\r\n    const { component, parent: oldParentComponent } = findComponentById(id, rootComponentCopy.components);\r\n\r\n    if(!component) {\r\n      return;\r\n    }\r\n\r\n    if (!oldParentComponent) {\r\n      if (isAlreadyAdjacent(id, adjacentComponentId, rootComponentCopy.components, after)) {\r\n        return;\r\n      }\r\n      removeComponent(rootComponentCopy.components, id);\r\n    } else {\r\n      const oldParentChildren = oldParentComponent.getComponents()!;\r\n      if (isAlreadyAdjacent(id, adjacentComponentId, oldParentChildren, after)) {\r\n        return;\r\n      }\r\n      removeComponent(oldParentChildren, id);\r\n    }\r\n\r\n    const { component: adjacentComponent, parent: newParent } = findComponentById(adjacentComponentId, rootComponentCopy.components);\r\n    if (!adjacentComponent) {\r\n      return;\r\n    }\r\n\r\n    if (!newParent) {\r\n      // parent is not there but found adjacent component\r\n      // means the adjacent component is in the root\r\n      insertComponent(rootComponentCopy.components, rootComponentCopy.components.indexOf(adjacentComponent) + (after ? 1 : 0), component);\r\n    } else {\r\n      const newParentChildren = newParent.getComponents();\r\n      if (!newParentChildren) {\r\n        // shouldn't be the case\r\n        alert('meh?');\r\n        return;\r\n      }\r\n\r\n      insertComponent(newParentChildren, newParentChildren.indexOf(adjacentComponent) + (after ? 1 : 0), component); \r\n    }\r\n    \r\n    updateRootComponent(rootComponentCopy);\r\n  }\r\n\r\n  const addPreview = (componentType: string, adjacentComponentId: string, after: boolean) => {\r\n    const rootComponentCopy = cloneDeep(rootComponent);\r\n    let previewComponentParent: ComponentSchemaWithId | undefined = undefined;\r\n    \r\n    // remove the earlier preview\r\n    if (previewComponentParentId) {\r\n      if (previewComponentParentId === adjacentComponentId) {\r\n        if (previewComponentParentId === ROOT_ID) {\r\n          if (rootComponentCopy.preview?.type === componentType) {\r\n            return;\r\n          }\r\n          \r\n          rootComponentCopy.preview = undefined;\r\n          setPreviewComponentParentId(undefined);\r\n        } else {\r\n          let { component: previewComponentParentTemp } = findComponentById(previewComponentParentId, rootComponentCopy.components);\r\n          if (previewComponentParentTemp) {\r\n            previewComponentParent = previewComponentParentTemp;\r\n  \r\n            if (previewComponentParent.previewComponent?.type === componentType && previewComponentParent.previewComponent.isAfter === after) {\r\n              return;\r\n            }\r\n  \r\n            previewComponentParent.previewComponent = undefined;\r\n            setPreviewComponentParentId(undefined);\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        // if preview component parent is not == adjacenComponentId\r\n        // find the component object\r\n        if (previewComponentParentId === ROOT_ID) {\r\n          rootComponentCopy.preview = undefined;\r\n          setPreviewComponentParentId(undefined);\r\n        } else {\r\n          let { component: previewComponentParentTemp } = findComponentById(previewComponentParentId, rootComponentCopy.components);\r\n          if (previewComponentParentTemp) {\r\n            previewComponentParent = previewComponentParentTemp;\r\n            previewComponentParent.previewComponent = undefined;\r\n            setPreviewComponentParentId(undefined);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (adjacentComponentId === ROOT_ID) {\r\n      rootComponentCopy.preview = {\r\n        type: componentType,\r\n        isAfter: true\r\n      }\r\n\r\n      setPreviewComponentParentId(ROOT_ID);\r\n    } else {\r\n      let { component: previewComponentParentTemp } = findComponentById(adjacentComponentId, rootComponentCopy.components);\r\n      if (!previewComponentParentTemp) {\r\n        console.error('Preview component parent not found!');\r\n        return;\r\n      }\r\n\r\n      previewComponentParent = previewComponentParentTemp;\r\n\r\n      previewComponentParent.previewComponent = {\r\n        type: componentType,\r\n        isAfter: after,\r\n      }\r\n\r\n      setPreviewComponentParentId(adjacentComponentId);\r\n    }\r\n\r\n    updateRootComponent(rootComponentCopy);\r\n  }\r\n\r\n  const findComponentById = (id: string, findInSchema: ComponentSchemaWithId[]): { component: ComponentSchemaWithId | undefined, parent: ComponentSchemaWithId | undefined } => {\r\n    let component = findInSchema.find(c => c.id === id);\r\n    let parent: any = undefined;\r\n    if (component) {\r\n      return { component, parent: undefined };\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    let _ = findInSchema.some(c => {\r\n      let childChildren = c.getComponents();\r\n      if (!childChildren) {\r\n        return false;\r\n      }\r\n\r\n      ({ component, parent } = findComponentById(id, childChildren));\r\n      if (!parent && component) {\r\n        // if component is found, but the immediate recursive call just returned the component.\r\n        // This means, this component is the parent - assign it.\r\n        // otherwise return the parent which was returned form the call\r\n        parent = c;\r\n      }\r\n\r\n      return !!component;\r\n    });\r\n\r\n    return { component, parent };\r\n  }\r\n\r\n  const removeComponent = (componentArray: ComponentSchemaWithId[], componentId: string) => {\r\n    remove(componentArray, x => x.id === componentId);\r\n  }\r\n\r\n  const insertComponent = (componentArray: ComponentSchemaWithId[], atIndex: number, component: ComponentSchemaWithId) => {\r\n    componentArray.splice(atIndex, 0, component);\r\n  }\r\n\r\n  const insertNewComponentAtIndex = (componentArray: ComponentSchemaWithId[], component: ComponentSchemaWithId, atIndex: number) => {\r\n    if(atIndex === -1) {\r\n      componentArray.push(component);\r\n      return;\r\n    }\r\n      \r\n    componentArray.splice(atIndex, 0, component);\r\n  };\r\n\r\n  const isAlreadyAdjacent = (componentId: string, adjacentComponentId: string, componentArray: ComponentSchemaWithId[], after: boolean) => {\r\n    const componentIndex = componentArray.findIndex(x => x.id === componentId);\r\n    \r\n    if (after) {\r\n      return componentIndex - 1 >= 0 && componentArray[componentIndex - 1].id === adjacentComponentId;\r\n    } else {\r\n      return componentIndex + 1 < componentArray.length && componentArray[componentIndex + 1].id === adjacentComponentId;\r\n    }\r\n  };\r\n\r\n  const resetDragDropPreview = () => {\r\n    if (!previewComponentParentId) {\r\n      return;\r\n    }\r\n\r\n    const rootComponentCopy = cloneDeep(rootComponent);\r\n    if (previewComponentParentId === ROOT_ID) {\r\n      rootComponentCopy.preview = undefined;\r\n    } else {\r\n      const {component: previewComponentParent} = findComponentById(previewComponentParentId, rootComponentCopy.components);\r\n      if (previewComponentParent) {\r\n        previewComponentParent.previewComponent = undefined;\r\n      }\r\n    }\r\n\r\n    updateRootComponent(rootComponentCopy);\r\n    setPreviewComponentParentId(undefined);\r\n  }\r\n\r\n  const updateComponentSchema = (updatedComponentSchema: any) => {\r\n    const rootComponentCopy = cloneDeep(rootComponent);\r\n    \r\n    // clear the earlier editing component\r\n    if (editingComponent === undefined) {\r\n      return;\r\n    }\r\n\r\n    const { component, parent: parentComponent } = findComponentById(editingComponent.id, rootComponentCopy.components);\r\n\r\n    if (component === undefined) {\r\n      // component wasn't found \r\n      return;\r\n    }\r\n\r\n    updatedComponentSchema.id = component.id;\r\n    const parentComponentChildren = parentComponent?.getComponents() || rootComponentCopy.components;\r\n    const componentIdx = parentComponentChildren.findIndex((x: ComponentSchemaWithId) => x.id === component.id);\r\n    parentComponentChildren.splice(componentIdx, 1, cloneDeep(updatedComponentSchema));\r\n\r\n    updateRootComponent(rootComponentCopy);\r\n  }\r\n\r\n  return (\r\n    <DesignerPage>\r\n      <DndProvider backend={HTML5Backend}>\r\n        <ComponentListContainer className=\"bg-light\">\r\n          <ComponentList resetPreview={resetDragDropPreview}/>\r\n        </ComponentListContainer>\r\n\r\n        <DesignerPreview>\r\n          <DroppableRenderer\r\n            rootComponent={rootComponent}\r\n            data={data}\r\n            editingComponent={editingComponent}\r\n            onDrop={onDrop}\r\n            onEdit={onEdit}\r\n            onDelete={onDelete}\r\n            addPreview={addPreview}\r\n            moveComponent={moveComponent}\r\n            moveAdjacent={moveAdjacent}\r\n            updateComponentSchema={updateComponentSchema}\r\n          />\r\n        </DesignerPreview>\r\n      </DndProvider>\r\n    </DesignerPage>\r\n  );\r\n};\r\n\r\nexport default Designer;\r\n","import './App.css';\r\n\r\nimport React, { useState } from 'react';\r\n\r\nimport { Renderer } from 'appitsy';\r\nimport {\r\n  Tab,\r\n  TabList,\r\n  TabPanel,\r\n  Tabs,\r\n} from 'react-tabs';\r\n\r\nimport styled from '@emotion/styled';\r\n\r\nimport Designer from './Components/Designer';\r\nimport { ComponentSchemaWithId } from './Components/DesignerRenderer';\r\nimport { SchemaEditor } from './Components/SchemaEditor';\r\n\r\nconst AppRoot = styled.div`\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tflex-grow: 1;\r\n`;\r\n\r\nconst Heading = styled.h4`\r\n\tmargin: 10px 0px 0px 0px;\r\n\ttext-align: center;\r\n`\r\nconst AppTabs = styled(Tabs)`\r\n\tdisplay: flex;\r\n  flex-direction: column;\r\n\tflex-grow: 1;\r\n\r\n  .appitsy-builder-header-tabs {\r\n    margin: 10px auto;\r\n\r\n    .react-tabs__tab-list {\r\n      border-width: 0px;\r\n    }\r\n\r\n    .react-tabs__tab {\r\n      width: 150px;\r\n      border: 0px;\r\n      bottom: 0px;\r\n      border-radius: 20px;\r\n      margin: 0px 10px;\r\n      text-align: center;\r\n      background: WhiteSmoke;\r\n      box-shadow: none;\r\n    }\r\n\r\n    .react-tabs__tab--selected {\r\n      background: #e6e6e6;\r\n      box-shadow: 0 0 5px #686d75;\r\n    }\r\n  }\r\n`;\r\n\r\nconst tabPanelStyle = { \r\n\tflexGrow: 1,\r\n\tborderTop: '2px solid #cfcfcf',\r\n};\r\n\r\nconst Card = styled.div`\r\n  max-width: 900px;\r\n  margin: 15px auto;\r\n`;\r\n\r\nconst App = () => {\r\n  const [data, setData] = useState({});\r\n  const [schema, setSchema] = useState<ComponentSchemaWithId[]>([]);\r\n  \r\n  return (\r\n    <AppRoot>\r\n      <Heading>Form Builder</Heading>\r\n      <AppTabs>\r\n        <TabList className=\"appitsy-builder-header-tabs\">\r\n          <Tab>Designer</Tab>\r\n          <Tab>Schema JSON</Tab>\r\n          <Tab>Preview</Tab>\r\n        </TabList>\r\n\r\n        <TabPanel style={tabPanelStyle}>\r\n          <Designer schema={schema} onSchemaChange={(s) => setSchema(s)} />\r\n        </TabPanel>\r\n\r\n        <TabPanel style={tabPanelStyle}>\r\n          <Card>\r\n            <SchemaEditor schema={schema} onSchemaChange={setSchema} />\r\n          </Card>\r\n        </TabPanel>\r\n\r\n        <TabPanel style={tabPanelStyle}>\r\n\t\t\t\t\t<Card className=\"card card-body bg-light\">\r\n\t\t\t\t\t\t<Renderer\r\n\t\t\t\t\t\t\tschema={schema}\r\n\t\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\t\tonDataChange={setData}\r\n\t\t\t\t\t\t\tonSubmit={(data) => alert(JSON.stringify(data))}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Card>\r\n        </TabPanel>\r\n      </AppTabs>\r\n    </AppRoot>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { ComponentSchema } from 'appitsy/types/ComponentSchema';\r\nimport {\r\n  getDisplayNameForType,\r\n  Types,\r\n} from 'appitsy/types/Types';\r\nimport _ from 'lodash';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport { ComponentSchemaWithId } from '../Components/DesignerRenderer';\r\n\r\nexport const ComponentTypes = [\r\n  Types.TextField,\r\n  Types.TextArea,\r\n  Types.Email,\r\n  Types.Password,\r\n  Types.Number,\r\n  Types.Checkbox,\r\n  Types.MultiCheckbox,\r\n  Types.Button,\r\n  Types.Panel,\r\n  Types.Tabs,\r\n  Types.Table,\r\n  Types.ObjectComponent,\r\n]\r\n\r\nconst createNewTab = (tabProperties: any) => {\r\n  const tab = {\r\n    ...tabProperties, \r\n    id: uuidv4(), \r\n    components: [],\r\n  }\r\n\r\n  tab.getComponents = function() {\r\n    return this.components;\r\n  }\r\n\r\n  tab.setComponents = function(components: ComponentSchemaWithId[]): void {\r\n    this.components = components;\r\n  }\r\n\r\n  return tab;\r\n}\r\n\r\nexport const getDefaultPropsForType = (type: string): ComponentSchemaWithId | undefined => {\r\n  const id = uuidv4();\r\n  const commonProperties = {\r\n    id, \r\n    isEditing: false,\r\n    getComponents: () => undefined,\r\n    setComponents: () => undefined,\r\n    type,\r\n    name: type,\r\n    display: {\r\n      label: getDisplayNameForType(type)\r\n    },\r\n  }\r\n  switch (type) {\r\n    case Types.TextField:\r\n    case Types.TextArea:\r\n    case Types.Email:\r\n    case Types.Number:\r\n    case Types.Checkbox:\r\n    case Types.Button:\r\n        return { ...commonProperties };\r\n    case Types.Password:\r\n      return _.defaultsDeep(\r\n        {          \r\n          display: {\r\n            placeholder: '********',\r\n          },\r\n        },\r\n        commonProperties);\r\n    case Types.MultiCheckbox: {\r\n      const multiCheckbox = { \r\n        ...commonProperties, \r\n        data: { \r\n          checkboxes: [\r\n            {\r\n              name: '',\r\n              label: ''\r\n            }\r\n          ] \r\n        } \r\n      }\r\n\r\n      return multiCheckbox as any as ComponentSchemaWithId;\r\n    }\r\n    case Types.Panel: {\r\n      let panel: any = { \r\n        ...commonProperties,\r\n        components: [],\r\n      }\r\n\r\n      panel.getComponents = function(): ComponentSchemaWithId[] {\r\n        return this.components;\r\n      }\r\n\r\n      panel.setComponents = function(components: ComponentSchemaWithId[]): void {\r\n        this.components = components;\r\n      }\r\n\r\n      return panel as ComponentSchemaWithId;\r\n    }\r\n    case Types.Tabs: {\r\n      const tab1 = createNewTab({\r\n        name: 'tab1',\r\n        display: {\r\n          label: 'Tab1',\r\n        },\r\n      })\r\n      const tabComponent: any = { \r\n        ...commonProperties,\r\n        components: [ tab1 ] \r\n      }\r\n\r\n      tabComponent.getComponents = function() {\r\n        return this.components;\r\n      }\r\n\r\n      tabComponent.setComponents = function(components: ComponentSchemaWithId[]): void {\r\n        this.components = components;\r\n      }\r\n\r\n      return tabComponent as ComponentSchemaWithId;\r\n    }\r\n    case Types.Table: {\r\n      const table: any = { \r\n        ...commonProperties,\r\n        data: { \r\n          columns: [],\r\n          allowSorting: true,\r\n          allowAddRemove: true,\r\n        },\r\n      };\r\n\r\n      table.getComponents = function () {\r\n        return this.data.columns;\r\n      }\r\n\r\n      table.setComponents = function(components: ComponentSchemaWithId[]): void {\r\n        this.data.columns = components;\r\n      }\r\n\r\n      return table;\r\n    }\r\n    case Types.ObjectComponent: {\r\n      const objComponent: any = { \r\n        ...commonProperties,\r\n        components: [],\r\n      };\r\n\r\n      objComponent.getComponents = function () {\r\n        return this.components;\r\n      }\r\n\r\n      objComponent.setComponents = function(components: ComponentSchemaWithId[]): void {\r\n        this.components = components;\r\n      }\r\n\r\n      return objComponent;\r\n    }\r\n  \r\n    default: return undefined;\r\n  }\r\n}\r\n\r\nexport const parseTypeFromJson = (json: any): ComponentSchemaWithId => {\r\n  if (json.type === undefined) {\r\n    throw new Error('Wrong JSON being parsed');\r\n  }\r\n\r\n  // get default\r\n  const defaultProps = getDefaultPropsForType(json.type) || {};\r\n  const component = _.assign(defaultProps, json) as ComponentSchemaWithId;\r\n\r\n  const childComponents = component.getComponents();\r\n  if (childComponents !== undefined) {\r\n    switch (component.type) {\r\n      case Types.Tabs:\r\n        component.setComponents(childComponents.map((x: any) => { \r\n            const tab: any = createNewTab(x);\r\n            const tabChildren = x.components?.map((y: any) => parseTypeFromJson(y)) || [];\r\n            tab.setComponents(tabChildren);\r\n            return tab;\r\n          })\r\n        );\r\n        break;\r\n      default:\r\n        component.setComponents(childComponents.map(x => parseTypeFromJson(x)));\r\n    }\r\n  }\r\n\r\n  return component;\r\n}\r\n\r\nexport const prepareJsonSchema = (schema: ComponentSchemaWithId[]): ComponentSchema[] => {\r\n  let jsonSchema: any[] = _.cloneDeep(schema);\r\n  \r\n  jsonSchema = jsonSchema.map(x => {\r\n    if (x.getComponents() !== undefined) {\r\n      x.setComponents(prepareJsonSchema(x.getComponents()));  \r\n    }\r\n    return x;\r\n  })\r\n\r\n  return jsonSchema.map((x: any) => {\r\n      delete x.id;\r\n      delete x.isEditing;\r\n      delete x.previewComponent;\r\n      delete x.getComponents;\r\n      delete x.setComponents;\r\n\r\n      return x;\r\n  });\r\n}\r\n","import React, { useState } from 'react';\r\n\r\nimport { Button } from 'appitsy/components/Basic';\r\nimport _ from 'lodash';\r\nimport ReactJson from 'react-json-view';\r\n\r\nimport styled from '@emotion/styled';\r\n\r\nimport {\r\n  parseTypeFromJson,\r\n  prepareJsonSchema,\r\n} from '../Utilities/ComponentTypes';\r\nimport { ComponentSchemaWithId } from './DesignerRenderer';\r\n\r\nconst SchemaActions = styled.div`\r\n  text-align: right;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst SchemaActionButton = styled(Button)`\r\n\tmargin-left: 10px;\r\n`\r\n\r\ninterface SchemaEditorProps {\r\n\tschema: ComponentSchemaWithId[];\r\n  onSchemaChange: (updatedSchema: ComponentSchemaWithId[]) => void;\r\n}\r\n\r\nexport const SchemaEditor = (props: SchemaEditorProps) => {\r\n\tconst [isSchemaEditable, setIsSchemaEditable] = useState<boolean>(false);\r\n  const [editingSchema, setEditingSchema] = useState<string>('');\r\n\t\r\n\tconst schema = prepareJsonSchema(props.schema);\r\n  const copyToClipboard = (text: string) => navigator.clipboard.writeText(text);\r\n  const jsonFormattedString = () => JSON.stringify(schema, null, \"  \");\r\n\r\n  const startSchemaEditing = () => {\r\n    setIsSchemaEditable(true);\r\n    setEditingSchema(jsonFormattedString());\r\n  };\r\n\r\n  const endSchemaEditing = () => {\r\n    setIsSchemaEditable(false);\r\n\t\tsetEditingSchema('');\r\n\t\t// we'll have to use eval here\r\n\t\t// so that we can parse relaxed json\r\n    // eslint-disable-next-line no-eval\r\n    const jsonArray = eval(`(${editingSchema})`);\r\n    if (!_.isArray(jsonArray)) {\r\n      throw new Error('JSON Array expected here..');\r\n    }\r\n\r\n    const saveSchema = jsonArray.map(x => parseTypeFromJson(x));\r\n\r\n    props.onSchemaChange(saveSchema);\r\n  }\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<SchemaActions>\r\n\t\t\t\t{ \r\n\t\t\t\t\tisSchemaEditable\r\n\t\t\t\t\t\t// eslint-disable-next-line react/style-prop-object\r\n\t\t\t\t\t\t? (<SchemaActionButton name='saveSchema' display={{ leftIcon: 'save' }} onClick={endSchemaEditing} text='Save' style='secondary' />)\r\n\t\t\t\t\t\t// eslint-disable-next-line react/style-prop-object\r\n\t\t\t\t\t\t: (<SchemaActionButton name='editSchema' display={{ leftIcon: 'pen' }} onClick={startSchemaEditing} text='Edit' style='secondary' />)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t{ /*eslint-disable-next-line react/style-prop-object */ }\r\n\t\t\t\t<SchemaActionButton name='copyToClipboard' display={{ leftIcon: 'clipboard' }} onClick={() => copyToClipboard(jsonFormattedString())} text='Copy' style='primary' />\r\n\t\t\t</SchemaActions>\r\n\t\t\t<div className=\"card card-body bg-light\">\r\n\t\t\t\t{ \r\n\t\t\t\t\tisSchemaEditable \r\n\t\t\t\t\t\t? (<textarea rows={20} value={editingSchema} onChange={(evt) => setEditingSchema(evt.target.value)}> sd </textarea>)\r\n\t\t\t\t\t\t: (<ReactJson src={schema} />)\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n}"],"sourceRoot":""}